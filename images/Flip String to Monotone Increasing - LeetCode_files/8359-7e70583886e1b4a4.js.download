(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8359],{55544:function(e,n,t){(n=t(23645)(!1)).push([e.id,"._2YoR3 p,._2YoR3 summary{font-size:1rem!important;line-height:1.5rem!important}",""]),n.locals={markdown:"_2YoR3"},e.exports=n},93103:function(e,n,t){"use strict";t.d(n,{u:function(){return a},w:function(){return r}});var o=t(26786),i=t(3688),r=function(e,n){return e.diff(n,"h",!0)<24},a=function(e,n){var t=n||{},r=t.hiddenFields,a=void 0===r?[]:r,l=t.prefix,s={days:"\u5929",hours:"\u5c0f\u65f6",minutes:"\u5206",seconds:"\u79d2"},u=["days","hours","minutes","seconds"].filter((function(e){return!a.includes(e)})).map((function(n,t){return 0!==t?{timeKey:n,value:e[n]()}:{timeKey:n,value:Math.floor(e["as".concat((0,o.Z)(n))]())}}));return u.slice(u.findIndex((function(e){return 0!==e.value}))||0).map((function(e){return"".concat(e.value," ").concat((0,i.Z)(l,s)[e.timeKey])})).join(" ")}},77318:function(e,n,t){"use strict";t.d(n,{g:function(){return o}});var o={"data-gramm":!1,"data-gramm_editor":!1,"data-enable-grammarly":!1}},64706:function(e,n,t){"use strict";t.r(n),t.d(n,{FilteredGraphQLErrorEnum:function(){return o},defaultErrorHandler:function(){return l},filterGraphQLError:function(){return r},handleErrorWithFallback:function(){return a}});var o,i=t(84945);function r(e){var n=Array.isArray(e)?e[0]:e;if(function(e){return e&&"object"===typeof e&&"string"===typeof e.message}(n)){var t=n.message.indexOf("\ud83d\udc38\u2615");return t>-1?{errorType:o.frogTea,message:n.message.slice(t+"\ud83d\udc38\u2615".length)}:{errorType:o.unknown,message:n.message}}return null}!function(e){e.frogTea="frog-tea",e.unknown="unknown"}(o||(o={}));var a=function(e){return function(n){var t,a,l=r(null===n||void 0===n||null===(t=n.response)||void 0===t?void 0:t.errors);(null===n||void 0===n||null===(a=n.response)||void 0===a?void 0:a.status)>=400||((null===l||void 0===l?void 0:l.errorType)===o.frogTea||(null===l||void 0===l?void 0:l.errorType)===o.unknown?i.y.error(l.message).then():e&&i.y.error(e).then())}},l=a()},27503:function(e,n,t){"use strict";t.d(n,{t:function(){return x}});var o=t(26042),i=t(85893),r=t(67294),a=t(73935),l=t(11321),s=t(51797),u=t(22177),c=t(8290),d=t(25398),m=t(67021),v=t(7822),f=function(e){var n,t=e.visible,o=e.loading,r=e.variant,f=e.className,p=e.title,h=e.confirmText,x=e.icon,C=e.iconClassName,g=e.confirmBtn,y=e.confirmBtnCls,j=e.onConfirm,b=e.cancelBtn,N=e.cancelBtnCls,w=e.onCancel,I=(0,l.$G)("common",{keyPrefix:"confirmModal"}).t,k=function(e){switch(e){case"info":return{icon:m.e,iconClassName:u.Cj.labelBlueStandard,confirmBtnCls:(0,s.yI)(u.Cj.bgBlueStandard,u.Cj.bgBlue3Hover,u.Cj.labelWhite)};case"danger":return{icon:v.Q,iconClassName:u.Cj.labelRedStandard,confirmBtnCls:(0,s.yI)(u.Cj.bgRedStandard,u.Cj.bgRed3Hover,u.Cj.labelWhite)};default:return{}}}(r),S=null!==(n=null!==x&&void 0!==x?x:k.icon)&&void 0!==n?n:m.e;return(0,a.createPortal)((0,i.jsx)(c.u,{visible:t,onCancel:w,closable:!1,maskClosable:!0,className:f,children:(0,i.jsxs)("div",{className:"flex space-x-5",children:[(0,i.jsx)("div",{className:(0,s.yI)("h-10 w-10",k.iconClassName,C),children:(0,i.jsx)(S,{className:"h-full w-full"})}),(0,i.jsxs)("div",{className:"flex w-full flex-col",children:[(0,i.jsx)("div",{className:(0,s.yI)(u.Cj.label1,"text-lg font-medium"),children:p||I("title")}),h&&(0,i.jsx)("div",{className:(0,s.yI)(u.Cj.label2,"mt-2 text-sm"),children:h}),(0,i.jsxs)("div",{className:"mt-8 flex items-center justify-end space-x-4 text-sm font-medium",children:[(0,i.jsx)(d.z,{className:(0,s.yI)("cursor-pointer rounded-lg px-4 py-[5px]",u.Cj.label2,u.Cj.fill3,u.Cj.fill2Hover,N),onClick:w,children:b||I("cancelBtn")}),(0,i.jsx)(d.z,{loading:o,disabled:o,className:(0,s.yI)("cursor-pointer rounded-lg px-4 py-[5px]",u.Cj.labelWhite,k.confirmBtnCls,y),onClick:j,children:g||I("confirmBtn")})]})]})]})}),document.querySelector("#modal-root"))},p={visible:!1,title:"",confirmText:"",icon:void 0,iconClassName:"",confirmBtn:"",confirmBtnCls:"",onConfirm:function(){return null},cancelBtn:"",cancelBtnCls:"",onCancel:function(){return null}},h=function(e,n){switch(n.type){case"update":return(0,o.Z)({},e,n.payload);case"reset":return p;default:throw new Error}},x=function(e){var n=(0,r.useReducer)(h,(0,o.Z)({},p,e)),t=n[0],a=n[1],l=(0,r.useCallback)((function(e){return a({type:"update",payload:e})}),[a]),s=(0,r.useCallback)((function(){return a({type:"reset"})}),[a]),u=(0,r.useCallback)((function(){return a({type:"update",payload:{visible:!0}})}),[a]),c=(0,r.useCallback)((function(){return a({type:"update",payload:{visible:!1}})}),[a]);return(0,r.useEffect)((function(){return l({onCancel:c})}),[l,c]),{modal:(0,i.jsx)(f,(0,o.Z)({},t)),control:(0,r.useMemo)((function(){return{update:l,reset:s,show:u,hide:c}}),[l,s,u,c]),visible:t.visible,update:l,reset:s,show:u,hide:c}}},35319:function(e,n,t){"use strict";t.d(n,{T:function(){return u}});var o=t(14924),i=t(26042),r=t(69396),a=t(43973),l=t(782),s=t(32180),u=(0,a.M)((0,l.$e)({allListeners:{},lastEvents:{}},(function(e,n){return{subscribe:function(t,a,l){var u=n(),c=u.allListeners,d=u.lastEvents,m=c[t]||new Set;return m.add(a),e((function(e){return(0,r.Z)((0,i.Z)({},e),{allListeners:(0,r.Z)((0,i.Z)({},e.allListeners),(0,o.Z)({},t,m))})})),(null===l||void 0===l?void 0:l.startWithLastEvent)&&d[t]&&a(d[t]),function(){var l=n().allListeners,u=l[t];u&&(u.delete(a),0===u.size?e((function(e){return(0,r.Z)((0,i.Z)({},e),{allListeners:(0,s.Z)(l,t)})})):e((function(e){return(0,r.Z)((0,i.Z)({},e),{allListeners:(0,r.Z)((0,i.Z)({},e.allListeners),(0,o.Z)({},t,u))})})))}},emit:function(t,a,l){var s,u=null!==(s=n().allListeners[t])&&void 0!==s?s:new Set;0!==u.size&&(u.forEach((function(e){return e(a,{isExternal:null===l||void 0===l?void 0:l.isExternal})})),!1!==(null===l||void 0===l?void 0:l.keepLast)&&e((function(e){return(0,r.Z)((0,i.Z)({},e),{lastEvents:(0,r.Z)((0,i.Z)({},e.lastEvents),(0,o.Z)({},t,a))})})))}}}))).getState()},11491:function(e,n,t){"use strict";t.d(n,{X:function(){return i}});var o=t(67294),i=function(){var e=(0,o.useState)(!1),n=e[0],t=e[1],i=(0,o.useState)(null),r=i[0],a=i[1],l=function(){return t(!0)},s=function(){return t(!1)};return(0,o.useEffect)((function(){if(r)return r.addEventListener("mouseover",l),r.addEventListener("mouseleave",s),function(){r.removeEventListener("mouseover",l),r.removeEventListener("mouseleave",s)}}),[r]),[a,n]}},24955:function(e,n,t){"use strict";t.d(n,{v:function(){return i}});var o=t(50632),i=function(e){var n,t=(0,o.U)().data;return e===(null===t||void 0===t||null===(n=t.userStatus)||void 0===n?void 0:n.username)}},25913:function(e,n,t){"use strict";t.d(n,{Z:function(){return xt}});var o=t(47568),i=t(26042),r=t(69396),a=t(70655),l=t(85893),s=t(67294),u=t(52653),c=t(29732),d=t(88525),m=t(23874),v=t(56235),f=t(75117),p=function(e,n){return n.length-e.length},h=function(e,n){if(!n.length)return e;var t=e.length,o=0,i=new Map,r=[],a=1e4,l=0,s=!0,u=!1,c=void 0;try{for(var d,m=n[Symbol.iterator]();!(s=(d=m.next()).done);s=!0){var v=d.value,f=v.nickName,h=v.slug;if(!i.has(f)){i.set(f,h),r.push(f);var x=f.length;x<a&&(a=x),x>l&&(l=x)}}}catch(w){u=!0,c=w}finally{try{s||null==m.return||m.return()}finally{if(u)throw c}}r.sort(p);for(var C=function(n){var t=e.substring(n,n+l);if(t.length<a)return null;var o=!0,i=!1,s=void 0;try{for(var u,c=r[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;if(t.startsWith(d))return d}}catch(w){i=!0,s=w}finally{try{o||null==c.return||c.return()}finally{if(i)throw s}}return null},g=[];o<t;){var y=e.indexOf("@",o);if(y<0){g.push(e.substring(o));break}g.push(e.substring(o,y));var j=C(y+1);if(j){var b=y+j.length+1;if(y>0&&"["===e.charAt(y-1))g.push(e.substring(y,b));else{var N=i.get(j);g.push("[@".concat(j,"](/u/").concat(N,")"))}o=b}else g.push("@"),o=y+1}return g.join("")},x=t(33813),C=function(e){return 1===e?u.i6.Up:-1===e?u.i6.Down:u.i6.None},g=t(6919),y=u.f.Best;var j=function(e){return m.zCE.getKey(function(e){var n=e.topicId,t=e.orderBy,o=e.pageNo,i=e.numPerPage;return{topicId:n,orderBy:t?N(t):void 0,skip:o&&i?(o-1)*i:0,numPerPage:i}}(e))},b=f.Oo?function(e){var n=e.topicId,t=e.orderBy,o=void 0===t?y:t,i=e.pageNo,r=void 0===i?1:i,a=e.numPerPage,l=void 0===a?10:a;return d.zCE.getKey({topicId:n,orderBy:o,pageNo:r,numPerPage:l})}:j;function N(e){var n=u.f.NewestToOldest,t=u.f.OldestToNewest;switch(e){case n:return m.sTy.NewToOld;case t:return m.sTy.OldToNew;default:return m.sTy.Hot}}var w,I=f.Oo?function(e,n){var t=e.isDiscuss,o=e.topicId,i=e.orderBy,r=void 0===i?y:i,a=e.pageNo,l=void 0===a?1:a,s=e.numPerPage,u=void 0===s?10:s,c=n.enabled,m=d.zCE.getKey({topicId:o,pageNo:l,numPerPage:u,orderBy:r});return(0,d.zCE)(v.f6,{topicId:o,pageNo:l,numPerPage:u,orderBy:r},{enabled:c,select:function(e){var n=e.topicComments||{},o=n.data,i=n.totalNum;if(!o)return{total:i||0,comments:[]};var r=o.map((function(e){var n,o,i,r,a,l,s,u,c,d,v,f;return{id:e.id,pinned:e.pinned||!1,content:(0,x.pC)(e.post.content),pinnedBy:{username:(null===(n=e.pinnedBy)||void 0===n?void 0:n.username)||""},postId:e.post.id,voteCount:e.post.voteCount,voteStatus:C(e.post.voteStatus||0),status:e.post.status,isHidden:e.post.isHidden||!1,creationDate:e.post.creationDate||0,isDiscussAdmin:(null===(o=e.post.author)||void 0===o?void 0:o.isDiscussAdmin)||!1,isDiscussStaff:(null===(i=e.post.author)||void 0===i?void 0:i.isDiscussStaff)||!1,userAvatar:(null===(r=e.post.author)||void 0===r?void 0:r.profile.userAvatar)||"",username:(null===(a=e.post.author)||void 0===a?void 0:a.username)||"",isActive:(null===(l=e.post.author)||void 0===l?void 0:l.isActive)||!1,nameColor:(null===(s=e.post.author)||void 0===s?void 0:s.nameColor)||"",activeBadgeIcon:(null===(u=e.post.author)||void 0===u||null===(c=u.activeBadge)||void 0===c?void 0:c.icon)||"",activeBadgeName:(null===(d=e.post.author)||void 0===d||null===(v=d.activeBadge)||void 0===v?void 0:v.displayName)||"",queryKey:m,isOwnPost:e.post.isOwnPost||!1,numChildren:e.numChildren,intentionTag:t?null===(f=e.intentionTag)||void 0===f?void 0:f.slug:void 0,ipRegion:""}}));return{total:i||0,comments:r}}})}:function(e){var n=e.topicId,t=e.orderBy,o=void 0===t?y:t,i=e.pageNo,r=void 0===i?1:i,a=e.numPerPage,l=void 0===a?10:a,s=j({topicId:n,pageNo:r,numPerPage:l,orderBy:o});return(0,m.zCE)(v.f6,{topicId:n,skip:(r-1)*l,numPerPage:l,orderBy:N(o)},{enabled:Boolean(n),select:function(e){var n=e.commonTopicComments||{},t=n.edges,o=n.totalNum,i=(0,c.Z)(t).map((function(e){return e.node}))||[];if(!i)return{total:o||0,comments:[]};var r=(0,c.Z)(i).map((function(e){var n,t,o,i,r,a,l,u=h(e.post.content||"",(e.post.mentionedUsers||[]).filter(Boolean).map((function(e){return{nickName:e.nickName,slug:e.userSlug}})));return{id:Number(e.id),ipRegion:e.ipRegion,pinned:!1,content:u,pinnedBy:{username:""},isEdited:e.isEdited,postId:e.post.id,voteCount:e.post.voteUpCount||0,voteStatus:C(e.post.voteStatus||0),status:e.post.status,isHidden:e.post.status===g.$4.Muted,creationDate:e.post.creationDate||0,isDiscussAdmin:(null===(n=e.post.author)||void 0===n?void 0:n.isDiscussAdmin)||!1,isDiscussStaff:(null===(t=e.post.author)||void 0===t?void 0:t.isDiscussStaff)||!1,userAvatar:(null===(o=e.post.author)||void 0===o?void 0:o.profile.userAvatar)||"",username:(null===(i=e.post.author)||void 0===i?void 0:i.username)||"",realName:null===(r=e.post.author)||void 0===r?void 0:r.profile.realName,userSlug:(null===(a=e.post.author)||void 0===a?void 0:a.profile.userSlug)||"",isActive:!1,nameColor:"",activeBadgeIcon:"",activeBadgeName:"",queryKey:s,isOwnPost:e.post.isOwnPost||!1,numChildren:null!==(l=e.numChildren)&&void 0!==l?l:0,intentionTag:void 0}}));return{total:o||0,comments:r}}})},k=f.Oo?function(e,n){var t=e.topicId,o=void 0===t?0:t,a=e.commentId,l=void 0===a?0:a,s=e.orderBy;return(0,d.e63)(v.f6,{topicId:o,commentId:l,orderBy:s},(0,r.Z)((0,i.Z)({},n),{select:function(e){if(!(null===e||void 0===e?void 0:e.commentContext))return null;var n=JSON.parse(e.commentContext),t=n.pageNo,o=n.parentId;return{pageNo:Number(t),parentCommentId:Number(o)}}}))}:function(e){var n=e.commentId;return(0,m.Pcv)(v.f6,{commentId:String(n)},{select:function(e){if(!e.commentPage)return null;var n=e.commentPage,t=n.pageNum,o=n.parentId;return{pageNo:t,parentCommentId:Number(o)}}})},S=t(50632),Z=t(39008),T=t(46922),L=t(84004),q=t(51797),R=t(29297),B=t(10253),_=t(11321),M=t(27503),H=t(22177),D=t(38488),E=function(){var e=(0,s.useState)({visible:!1,comment:void 0}),n=e[0],t=e[1];return[n,(0,s.useCallback)((function(e){return t((function(n){return(0,i.Z)({},n,e)}))}),[t])]},O=t(14924),A=t(11355),G=f.Oo?function(e){var n=e.commentId;return d.EcN.getKey({commentId:n})}:function(e){var n=e.commentId;return m.EcN.getKey({commentId:String(n)})},P=function(e,n,t){if(!t)return n?e.slice(0,n):e;var o=e.findIndex((function(e){return e.id===t}));return e.slice(0,o+1)},z=f.Oo?function(e,n){var t=e.commentId,o=e.pageNo,a=e.numPerPage,l=e.upToReplyId,s=d.EcN.getKey({commentId:t});return(0,d.EcN)(v.f6,{commentId:t},(0,r.Z)((0,i.Z)({},n),{select:function(e){var n=e.commentReplies||[];if(!(null===n||void 0===n?void 0:n.length))return{total:0,comments:[]};var t=n.map((function(e){var n,t,o,i,r,a,l,u,c,d,m;return{id:e.id,pinned:e.pinned||!1,content:(0,x.pC)(e.post.content),pinnedBy:{username:(null===(n=e.pinnedBy)||void 0===n?void 0:n.username)||""},voteCount:e.post.voteCount,voteStatus:C(e.post.voteStatus||0),status:e.post.status,isHidden:e.post.isHidden||!1,postId:e.post.id,creationDate:e.post.creationDate||0,isDiscussAdmin:(null===(t=e.post.author)||void 0===t?void 0:t.isDiscussAdmin)||!1,isDiscussStaff:(null===(o=e.post.author)||void 0===o?void 0:o.isDiscussStaff)||!1,userAvatar:(null===(i=e.post.author)||void 0===i?void 0:i.profile.userAvatar)||"",username:(null===(r=e.post.author)||void 0===r?void 0:r.username)||"",isActive:(null===(a=e.post.author)||void 0===a?void 0:a.isActive)||!1,nameColor:(null===(l=e.post.author)||void 0===l?void 0:l.nameColor)||"",activeBadgeIcon:(null===(u=e.post.author)||void 0===u||null===(c=u.activeBadge)||void 0===c?void 0:c.icon)||"",activeBadgeName:(null===(d=e.post.author)||void 0===d||null===(m=d.activeBadge)||void 0===m?void 0:m.displayName)||"",queryKey:s,isOwnPost:e.post.isOwnPost||!1,numChildren:0,ipRegion:""}})),i=void 0!==a?a*(o||1):0;return{total:t.length,comments:P(t,i,l)}}}))}:function(e,n){var t=e.commentId,o=e.pageNo,a=e.numPerPage,l=e.upToReplyId,s=m.EcN.getKey({commentId:String(t)});return(0,m.EcN)(v.f6,{commentId:String(t),first:a,skip:o&&a?(o-1)*a:0},(0,r.Z)((0,i.Z)({},n),{select:function(e){var n=e.commentReplyConnection,t=(0,c.Z)(null===n||void 0===n?void 0:n.edges.map((function(e){return null===e||void 0===e?void 0:e.node})));if(!(null===t||void 0===t?void 0:t.length))return{total:0,comments:[]};var i,r=t.map((function(e){var n,t,o,i,r,a;return{id:Number(e.id),pinned:!1,content:h(e.post.content||"",(e.post.mentionedUsers||[]).filter(Boolean).map((function(e){return{nickName:e.nickName,slug:e.userSlug}}))),pinnedBy:{username:""},voteCount:e.post.voteUpCount,voteStatus:C(e.post.voteStatus||0),status:e.post.status,isHidden:e.post.status===g.$4.Muted,postId:e.post.id,creationDate:e.post.creationDate||0,isDiscussAdmin:(null===(n=e.post.author)||void 0===n?void 0:n.isDiscussAdmin)||!1,isDiscussStaff:(null===(t=e.post.author)||void 0===t?void 0:t.isDiscussStaff)||!1,userAvatar:(null===(o=e.post.author)||void 0===o?void 0:o.profile.userAvatar)||"",username:(null===(i=e.post.author)||void 0===i?void 0:i.username)||"",realName:null===(r=e.post.author)||void 0===r?void 0:r.profile.realName,userSlug:(null===(a=e.post.author)||void 0===a?void 0:a.profile.userSlug)||"",isActive:!1,nameColor:"",activeBadgeIcon:"",activeBadgeName:"",queryKey:s,isOwnPost:e.post.isOwnPost||!1,numChildren:0,ipRegion:e.ipRegion}})),u=void 0!==a?a*(o||1):0;return{total:null!==(i=null===n||void 0===n?void 0:n.totalNum)&&void 0!==i?i:0,comments:P(r,u,l)}}}))},Q=t(24955),U=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e){var t=e.value.length||0;e.setSelectionRange(t,t),n?setTimeout((function(){return e.focus()}),n):e.focus()}},$=t(17832),F=t(43955),V=t(9770),K=t(11491),W=t(84945),Y=t(7649),X=t(85945),J=t(68652),ee=t(64706);!function(e){e.QuestionComment="questionDiscussComments",e.Reply="commentReplies"}(w||(w={}));var ne=function(e){var n=e.postId,t=e.commentId,o=e.changeComment,a=e.queryClient,l=e.key;a.setQueryData(l,(function(e){var a=function(e,n){switch(e[0]){case w.QuestionComment:var t;return(null===n||void 0===n||null===(t=n.topicComments)||void 0===t?void 0:t.data)||[];case w.Reply:return(null===n||void 0===n?void 0:n.commentReplies)||[]}}(l,e),s=null===a||void 0===a?void 0:a.map((function(e){return e.post.id===n||e.id===t?o(e):e})),u=function(e,n,t){switch(e[0]){case w.QuestionComment:return{topicComments:(0,r.Z)((0,i.Z)({},t.topicComments),{data:n})};case w.Reply:return{commentReplies:n}}}(l,s,e);return(0,i.Z)({},u)}))};function te(e,n){return 1===n&&1!=e?-1:1!=n&&1===e?1:0}var oe,ie,re,ae=f.Oo?function(e){var n=(0,X.NL)();return(0,d.sbl)(v.f6,{onSuccess:function(t,o){var r,a;!function(e){var n=e.postId,t=e.voteStatus,o=e.queryClient,r=e.key;ne({postId:n,changeComment:function(e){var n=(0,i.Z)({},e);return n.post.voteCount=e.post.voteCount+(t-e.post.voteStatus),n.post.voteStatus=t,n},queryClient:o,key:r})}({postId:o.postId,voteStatus:(null===(r=t.votePost)||void 0===r||null===(a=r.post)||void 0===a?void 0:a.voteStatus)||0,queryClient:n,key:e})}})}:function(e){var n=(0,X.NL)();return(0,m.xi3)(v.f6,{onMutate:function(t){var o=t.postId,i=t.voteStatus,r=n.getQueryData(e);return n.setQueriesData(e,(function(e){var n,t=(0,J.Z)(e);if("commonTopicComments"in t)null===(n=t.commonTopicComments)||void 0===n||n.edges.forEach((function(e){var n=null===e||void 0===e?void 0:e.node;if(n&&n.post.id===o){var t,r=null!==(t=n.post.voteStatus)&&void 0!==t?t:0;n.post.voteUpCount=n.post.voteUpCount+te(i,r),n.post.voteStatus=i}}));else if("commentReplyConnection"in t){var r;null===(r=t.commentReplyConnection)||void 0===r||r.edges.forEach((function(e){var n=null===e||void 0===e?void 0:e.node;if(n&&n.post.id===o){var t,r=null!==(t=n.post.voteStatus)&&void 0!==t?t:0;n.post.voteUpCount=n.post.voteUpCount+te(i,r),n.post.voteStatus=i}}))}return null!==t&&void 0!==t?t:{}})),r},onError:function(t,o,i){n.setQueryData(e,i),(0,ee.defaultErrorHandler)(t)},onSuccess:function(e,t){var o=t.postId;n.setQueriesData(["questionDiscussComments"],(function(n){var t,i=(0,J.Z)(n);return null===(t=i.commonTopicComments)||void 0===t||t.edges.forEach((function(n){var t,i,r,a,l,s,u=null===n||void 0===n?void 0:n.node;u&&u.post.id===o&&(u.post.voteUpCount=null!==(l=null===(t=e.votePost)||void 0===t||null===(i=t.post)||void 0===i?void 0:i.voteUpCount)&&void 0!==l?l:0,u.post.voteStatus=null!==(s=null===(r=e.votePost)||void 0===r||null===(a=r.post)||void 0===a?void 0:a.voteStatus)&&void 0!==s?s:0)})),i}))}})},le=t(27459),se=t(72230),ue=t(80947),ce=t(88088),de=t(38535),me=t(39643),ve=t(66855),fe=t(7570),pe=t(61347),he=t(20152),xe=f.ob?function(e){var n,t,o=e.voteCount,i=e.disabled,r=e.hasLike,a=e.onLikeClick,s=e.hasDislike,u=e.onDislikeClick;return(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(he.E,{label:(0,le.ZP)(o),labelClassName:r?H.Cj.labelBlueStandard:H.Cj.label2,disabled:i,onIconClick:a,icon:r?me.C:ve.h,iconClassName:(0,q.yI)("w-[18px] h-[18px] cursor-pointer",(n={},(0,O.Z)(n,"".concat(H.Cj.label4),!r&&i),(0,O.Z)(n,"".concat(H.Cj.labelGrey6," ").concat(H.Cj.labelGrey7Hover),!r&&!i),(0,O.Z)(n,"".concat(H.Cj.labelBlueStandard," ").concat(H.Cj.labelBlueStandardHover," "),r),n)),className:(0,q.yI)("mr-3 gap-1 transition-colors")}),(0,l.jsx)(he.E,{disabled:i,onIconClick:u,icon:s?fe.j:pe.y,className:(0,q.yI)("transition-colors"),iconClassName:(0,q.yI)("w-[18px] h-[18px] cursor-pointer",(t={},(0,O.Z)(t,"".concat(H.Cj.label4),!s&&i),(0,O.Z)(t,"".concat(H.Cj.labelGrey6," ").concat(H.Cj.labelGrey7Hover),!s&&!i),(0,O.Z)(t,"".concat(H.Cj.labelRedStandard," ").concat(H.Cj.labelRedStandardHover," "),s),t))})]})}:function(e){var n,t,o=e.voteCount,i=e.disabled,r=e.isMyself,a=e.hasLike,s=e.onLikeClick,u=e.hasDislike,c=e.onDislikeClick,d=i||r;return(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(he.E,{label:(0,le.ZP)(o),labelClassName:H.Cj.label2,disabled:d,onIconClick:s,icon:a?se.V:ue.X,iconClassName:(0,q.yI)("w-[18px] h-[18px] cursor-pointer",(n={},(0,O.Z)(n,"".concat(H.Cj.label4),!a&&d),(0,O.Z)(n,"".concat(H.Cj.labelGrey6," ").concat(H.Cj.labelGrey7Hover),!a&&!d),(0,O.Z)(n,"".concat(H.Cj.labelGreenStandard," ").concat(H.Cj.labelGreenStandardHover," "),a),n)),className:(0,q.yI)("gap-2 transition-colors")}),(0,l.jsx)(he.E,{disabled:d,onIconClick:c,icon:u?ce.E:de.v,className:(0,q.yI)("transition-colors"),iconClassName:(0,q.yI)("w-[18px] h-[18px] cursor-pointer",(t={},(0,O.Z)(t,"".concat(H.Cj.label4),!u&&d),(0,O.Z)(t,"".concat(H.Cj.labelGrey6," ").concat(H.Cj.labelGrey7Hover),!u&&!d),(0,O.Z)(t,"".concat(H.Cj.labelGrey7," ").concat(H.Cj.labelGrey7Hover," "),u),t))})]})},Ce=t(37906);!function(e){e.QdSolutionTab="QD_Solution_Tab",e.QdDiscussTab="QD_Discuss_Tab",e.QdSolutionTabComment="QD_Solution_Tab_comment",e.QdDiscussTabComment="QD_Discuss_Tab_comment",e.QdSolutionTabReply="QD_Solution_Tab_reply",e.QdDiscussTabReply="QD_Discuss_Tab_reply"}(oe||(oe={})),function(e){e.Comment="comment",e.Reply="reply"}(ie||(ie={})),function(e){e.SolutionTab="solution_tab",e.DiscussTab="discuss_tab",e.DescriptionTab="description_tab"}(re||(re={}));var ge,ye,je,be=function(e){switch(e){case Ce.Dk.Solution:case Ce.Dk.OfficialSolution:return re.SolutionTab;case Ce.Dk.Discuss:return re.DiscussTab;case Ce.Dk.Description:return re.DescriptionTab;default:return""}},Ne=function(e){var n,t,o,i,r,a,c=e.comment,d=e.isMyself,m=e.trackingCommentType,v=(0,_.$G)("comments").t,f=ae(c.queryKey),p=f.mutateAsync,h=f.isLoading,x=Boolean(null===(n=(0,S.U)())||void 0===n||null===(t=n.data)||void 0===t||null===(o=t.userStatus)||void 0===o?void 0:o.isSignedIn),C=Boolean(null===(i=(0,S.U)())||void 0===i||null===(r=i.data)||void 0===r||null===(a=r.userStatus)||void 0===a?void 0:a.isVerified),g=(0,Ce.wG)((function(e){return e.layoutType})),y=(0,Ce.yZ)((function(e){return e.questionSlug})),j=c.voteCount,b=c.voteStatus,N=c.postId,w=(0,s.useCallback)((function(){return x?C||W.y.error((0,l.jsxs)("span",{children:[v("youMust")," ",(0,l.jsx)("a",{href:Y.Hb.profileHome(),target:"_blank",rel:"noreferrer",className:(0,q.yI)(H.Cj.labelBlueStandard),children:v("verifyYourEmail")})," ",v("first"),"."]}),{itemClassName:H.Cj.bgLayer3}):W.y.error(v("common:loginRequired"),{itemClassName:H.Cj.bgLayer3}),x&&C}),[x,C,v]),I=(0,s.useCallback)((function(e){w()&&p({postId:N,voteStatus:e}).then((function(n){var t,o;(null===n||void 0===n||null===(t=n.votePost)||void 0===t?void 0:t.ok)?y&&(1===e&&R.d.qdUpVoteCommentClick({qd_version:T.AQ,qd_question_slug:y,qd_comment_pos:be(g),qd_comment_type:m}),-1===e&&R.d.qdDownVoteCommentClick({qd_version:T.AQ,qd_question_slug:y,qd_comment_pos:be(g),qd_comment_type:m})):W.y.error((null===n||void 0===n||null===(o=n.votePost)||void 0===o?void 0:o.error)||v("somethingWentWrong"),{itemClassName:H.Cj.bgLayer3})}))}),[w,p,N,v,g,y,m]),k=[b===u.i6.Up,b===u.i6.Down],Z=k[0],L=k[1],B=(0,s.useCallback)((function(){I(Z?0:1)}),[I,Z]),M=(0,s.useCallback)((function(){I(L?0:-1)}),[I,L]);return(0,l.jsx)(xe,{disabled:h,isMyself:d,hasLike:Z,onLikeClick:B,hasDislike:L,onDislikeClick:M,voteCount:j})},we=t(90908),Ie=function(e){var n=e.onClick,t=e.showReplies,o=e.showLabel,i=e.repliesNum,r=void 0===i?0:i,a=(0,_.$G)("comments").t,s=String((0,le.ZP)(r)),u=o?t?a("hideReplies"):a("showReplies",{num:s}):"".concat(s);return r<1?null:(0,l.jsx)("div",{onClick:n,children:(0,l.jsx)(he.E,{label:u,icon:we.f,iconClassName:(0,q.yI)("w-4.5 h-4.5",H.Cj.labelGrey6,H.Cj.labelGrey7GroupHover),labelClassName:(0,q.yI)(H.Cj.label1GroupHover),className:(0,q.yI)("group cursor-pointer transition-colors")})})},ke=s.forwardRef((function(e,n){return(0,l.jsx)("svg",(0,r.Z)((0,i.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M5.83 2.106c.628-.634 1.71-.189 1.71.704v2.065c4.821.94 6.97 4.547 7.73 8.085l-.651.14.652-.134c.157.757-.83 1.192-1.284.565l-.007-.009c-1.528-2.055-3.576-3.332-6.44-3.502v2.352c0 .893-1.082 1.338-1.71.704L1.091 8.295a1 1 0 010-1.408l4.737-4.78zm7.303 8.617C12.08 8.495 10.204 6.68 7.046 6.14c-.47-.08-.84-.486-.84-.99V3.62L2.271 7.591l3.934 3.971V9.667a.993.993 0 011.018-.995c2.397.065 4.339.803 5.909 2.051z",clipRule:"evenodd"})}))})),Se=function(e){var n=e.onClick,t=e.showLabel,o=(0,_.$G)("comments").t;return(0,l.jsx)(he.E,{onClick:n,label:t?o("reply"):void 0,icon:ke,iconClassName:(0,q.yI)("w-4.5 h-4.5",H.Cj.labelGrey6,H.Cj.labelGrey7GroupHover),labelClassName:(0,q.yI)(H.Cj.label1GroupHover),className:(0,q.yI)("group cursor-pointer gap-1 transition-colors")})},Ze=t(81117),Te=function(e){var n=e.isOwnPost,t=e.onClick,o=e.showLabel,i=(0,_.$G)("comments").t;return(0,Ce.wG)((function(e){return e.isModerator}))||n?(0,l.jsx)(he.E,{onClick:t,label:o?i("edit"):void 0,icon:Ze.P,iconClassName:(0,q.yI)("w-4.5 h-4.5",H.Cj.labelGrey6,H.Cj.labelGrey7GroupHover),labelClassName:(0,q.yI)(H.Cj.label1GroupHover),className:(0,q.yI)("group cursor-pointer gap-1 transition-colors")}):null},Le=t(94312),qe=t(62611),Re=function(e){var n=e.commentId,t=e.showLabel,o=e.onShareClick,i=(0,_.$G)("comments").t,r=(0,B.Z)((0,Le.c)(window.location.href,{successDuration:1e3}),2),a=r[0],u=r[1];(0,s.useEffect)((function(){a&&W.y.success(i("shareCopySuccess"),{itemClassName:H.Cj.bgLayer3})}),[a,i]);var c=(0,s.useCallback)((function(){var e=window.location.href.includes("/comments/")?"".concat(window.location.href.split("/comments/")[0],"/"):window.location.href.split("?")[0];u("".concat(e,"comments/").concat(n)),o&&o()}),[u,n,o]);return(0,l.jsxs)("div",{className:(0,q.yI)("group flex cursor-pointer items-center space-x-1"),onClick:c,children:[(0,l.jsx)("span",{children:(0,l.jsx)(qe.Q,{className:(0,q.yI)(H.Cj.labelGrey6,H.Cj.labelGrey7GroupHover,"h-4.5 w-4.5")})}),t&&(0,l.jsx)("span",{className:(0,q.yI)(H.Cj.label2,H.Cj.label1Hover),children:i("share")})]})},Be=f.Oo?function(){return(0,d.YxC)(v.f6)}:function(){return{}},_e=t(26440),Me=function(e){var n=e.comment,t=e.updateModal,o=(0,_.$G)("comments").t,a=(0,X.NL)(),u=Be().mutateAsync,c=n.pinned,d=o(c?"unpin":"pin"),m=(0,s.useCallback)((function(){t({loading:!0}),u({commentId:n.id,pinned:!c}).then((function(e){var l,s,u,c,d,m;if(null===(l=e.togglePinComment)||void 0===l?void 0:l.ok){var v=!!(null===(s=e.togglePinComment)||void 0===s||null===(u=s.comment)||void 0===u?void 0:u.pinned),f=(null===(c=e.togglePinComment)||void 0===c||null===(d=c.comment)||void 0===d||null===(m=d.pinnedBy)||void 0===m?void 0:m.username)||"";W.y.success(o(v?"pinSuccess":"unpinSuccess"),{itemClassName:H.Cj.bgLayer3}),function(e){var n=e.commentId,t=e.pinned,o=e.pinnedByUsername,a=e.queryClient,l=e.key;ne({commentId:n,changeComment:function(e){var n=(0,i.Z)({},e);return n.pinned=t,n.pinnedBy=(0,r.Z)((0,i.Z)({},n.pinnedBy),{username:o}),n},queryClient:a,key:l})}({commentId:n.id,pinned:v,pinnedByUsername:f,queryClient:a,key:n.queryKey}),t({loading:!1,visible:!1})}else{var p;W.y.error((null===(p=e.togglePinComment)||void 0===p?void 0:p.error)||o("somethingWentWrong"),{itemClassName:H.Cj.bgLayer3})}}))}),[t,u,a,c,n.id,n.queryKey,o]),v=(0,s.useCallback)((function(){t({visible:!0,variant:"info",confirmText:o(c?"confirmUnpinComment":"confirmPinComment"),confirmBtn:o(c?"unpin":"pin"),onConfirm:m})}),[t,m,c,o]);return(0,l.jsx)(_e.T,{onClick:v,children:d})},He=f.Oo?function(e){var n=(0,X.NL)();return(0,d.xim)(v.f6,{onSuccess:function(t,o){var r,a;!function(e){var n=e.postId,t=e.isHidden,o=e.queryClient,r=e.key;ne({postId:n,changeComment:function(e){var n=(0,i.Z)({},e);return n.post.isHidden=t,n},queryClient:o,key:r})}({postId:o.postId,isHidden:!!(null===(r=t.hidePost)||void 0===r||null===(a=r.post)||void 0===a?void 0:a.isHidden),queryClient:n,key:e})}})}:function(e){var n=(0,X.NL)();return(0,m.Rhf)(v.f6,{onMutate:function(t){var o=n.getQueryData(e);return o&&n.setQueryData(e,(function(e){var n,o=(0,J.Z)(e);return null===(n=o.commonTopicComments)||void 0===n||n.edges.forEach((function(e){var n,o;(null===e||void 0===e||null===(n=e.node)||void 0===n?void 0:n.id)===String(t.id)&&(null===e||void 0===e||null===(o=e.node)||void 0===o?void 0:o.post)&&(e.node.post.status=t.hide?g.$4.Muted:g.$4.Open)})),o})),o},onError:function(t,o,i){n.setQueryData(e,i)},onSuccess:function(){n.invalidateQueries(e)}})},De=function(e){var n=e.comment,t=e.updateModal,o=(0,_.$G)("comments").t,i=He(n.queryKey).mutateAsync,r=n.isHidden,a=o(r?"showComment":"hideComment"),u=(0,s.useCallback)((function(){t({loading:!0}),i({postId:n.postId,hide:!r,id:n.id}).then((function(e){if("hidePost"in e){var n,i,a,l;if(!(null===(n=e.hidePost)||void 0===n?void 0:n.ok))return void W.y.error((null===(l=e.hidePost)||void 0===l?void 0:l.error)||o("somethingWentWrong"),{itemClassName:H.Cj.bgLayer3});var s=!!(null===(i=e.hidePost)||void 0===i||null===(a=i.post)||void 0===a?void 0:a.isHidden);W.y.success(o(s?"hideSuccess":"showSuccess"),{itemClassName:H.Cj.bgLayer3})}else W.y.success(o(r?"showSuccess":"hideSuccess"),{itemClassName:H.Cj.bgLayer3});t({loading:!1,visible:!1})}))}),[t,i,n.postId,n.id,r,o]),c=(0,s.useCallback)((function(){t({visible:!0,variant:r?"info":"danger",confirmText:o(r?"confirmShowComment":"confirmHideComment"),confirmBtn:o(r?"showComment":"hideComment"),onConfirm:u})}),[t,u,r,o]);return(0,l.jsx)(_e.T,{onClick:c,children:a})},Ee=f.Oo?function(e){var n=e.postId,t=e.queryClient,o=e.key,a=e.parentKey,l=e.topicId;t.invalidateQueries(o),t.invalidateQueries(["tabsStatus"]),a&&t.invalidateQueries(a);ne({postId:n,changeComment:function(e){var n=(0,i.Z)({},e);return n.post.status=g.$4.Deleted,n.post.isHidden=!0,n},queryClient:t,key:o}),l&&t.setQueryData(["communitySolution",{topicId:l}],(function(e){var n;return(0,r.Z)((0,i.Z)({},e),{topic:(0,r.Z)((0,i.Z)({},null===e||void 0===e?void 0:e.topic),{topLevelCommentCount:(null===e||void 0===e||null===(n=e.topic)||void 0===n?void 0:n.topLevelCommentCount)-1})})}))}:function(e){var n=e.queryClient,t=e.key,o=e.parentKey;n.invalidateQueries(t),n.invalidateQueries(["tabsStatus"]),o&&n.invalidateQueries(o)},Oe=f.Oo?function(){return(0,d.soE)(v.f6)}:function(){var e=(0,X.NL)();return(0,m.soE)(v.f6,{onSuccess:function(){e.invalidateQueries(["questionDiscussComments"])}})},Ae=function(e){var n=e.postId,t=e.queryClient,o=e.key,r=e.status;ne({postId:n,changeComment:function(e){var n=(0,i.Z)({},e);return n.post.status=r,n.post.isHidden=!1,n},queryClient:t,key:o})},Ge=f.Oo?function(){return(0,d.xxG)(v.f6)}:function(){return{}},Pe=function(e){var n=e.comment,t=e.parentComment,o=e.topicId,i=e.updateModal,r=(0,_.$G)("comments").t,a=(0,X.NL)(),u=Oe().mutateAsync,c=Ge().mutateAsync,d=n.status===g.$4.Deleted,m=r(d?"restore":"delete"),v=(0,s.useCallback)((function(){i({loading:!0}),d?c({commentId:n.id}).then((function(e){var t,o,l;if(null===(t=e.approveComment)||void 0===t?void 0:t.ok){W.y.success(r("restoreSuccess"),{itemClassName:H.Cj.bgLayer3});var s=(null===(o=e.approveComment)||void 0===o||null===(l=o.post)||void 0===l?void 0:l.status)||g.$4.All;Ae({postId:n.postId,queryClient:a,key:n.queryKey,status:s}),i({loading:!1,visible:!1})}else{var u;W.y.error(!(null===(u=e.approveComment)||void 0===u?void 0:u.error)||r("deleteCommentError"),{itemClassName:H.Cj.bgLayer3})}})):u({commentId:n.id}).then((function(e){var l,s;(null===(l=e.deleteComment)||void 0===l?void 0:l.ok)?(W.y.success(r("deleteSuccess"),{itemClassName:H.Cj.bgLayer3}),Ee({postId:n.postId,queryClient:a,key:n.queryKey,parentKey:null===t||void 0===t?void 0:t.queryKey,topicId:o}),i({loading:!1,visible:!1})):W.y.error(!(null===(s=e.deleteComment)||void 0===s?void 0:s.error)||r("deleteCommentError"),{itemClassName:H.Cj.bgLayer3})}))}),[i,u,c,a,d,n.id,n.postId,n.queryKey,null===t||void 0===t?void 0:t.queryKey,o,r]),f=(0,s.useCallback)((function(){i({visible:!0,variant:d?"info":"danger",confirmText:r(d?"confirmRestoreComment":"confirmDeleteComment"),confirmBtn:r(d?"restore":"delete"),onConfirm:v})}),[i,v,d,r]);return(0,l.jsx)(_e.T,{onClick:f,children:m})},ze=function(e){var n,t=e.comment,o=e.updateConfirmModal,i=e.updateReportModal,r=e.updateMoveToSolutionsModal,a=e.isPinnable,u=void 0===a||a,c=(0,_.$G)("comments").t,d=(0,F.r)().isSignedIn,m=(0,s.useCallback)((function(){d?i({visible:!0,comment:t}):W.y.error(c("common:loginRequired"))}),[d,i,t,c]),v=(0,s.useCallback)((function(){r({visible:!0,comment:t})}),[r,t]),p=f.Oo?(0,q.yI)((n={},(0,O.Z)(n,"opacity-1",!t.isHidden&&t.status!==g.$4.Deleted),(0,O.Z)(n,"opacity-40",t.isHidden||t.status===g.$4.Deleted),n)):"",h=(0,Ce.wG)((function(e){return e.isModerator}));return!h&&t.isOwnPost?null:(0,l.jsxs)(_e.l,{btnClassName:(0,q.yI)("w-4.5 h-4.5",p),iconClassName:"w-4.5 h-4.5",children:[h&&u&&f.Oo&&(0,l.jsx)(Me,{comment:t,updateModal:o}),h&&(0,l.jsx)(De,{comment:t,updateModal:o}),!t.isOwnPost&&(0,l.jsx)(_e.T,{onClick:m,children:c("report")}),h&&(0,l.jsx)(Pe,{comment:t,updateModal:o}),h&&f.Oo&&(0,l.jsx)(_e.T,{onClick:v,children:c("move")})]})},Qe=t(19913),Ue=function(e){var n=e.status,t=e.isHidden,o=(0,_.$G)("comments").t,i=(0,Ce.wG)((function(e){return e.isModerator})),r=t?o("hidden"):n;return i?(0,l.jsx)("div",{className:(0,q.yI)(H.Cj.label4,"text-xs capitalize"),children:r}):null},$e=t(25132),Fe=t(7367),Ve=function(e){var n=e.comment,t=e.parentComment,o=e.topicId,i=e.updateModal,r=(0,_.$G)("comments").t,a=(0,X.NL)(),u=Oe().mutateAsync,c=Ge().mutateAsync,d=n.status===g.$4.Deleted,m=(0,s.useMemo)((function(){return d?$e.H:Fe.j}),[d]),v=(0,s.useCallback)((function(){i({loading:!0}),d?c({commentId:n.id}).then((function(e){var t,o,l;if(null===(t=e.approveComment)||void 0===t?void 0:t.ok){W.y.success(r("restoreSuccess"),{itemClassName:H.Cj.bgLayer3});var s=(null===(o=e.approveComment)||void 0===o||null===(l=o.post)||void 0===l?void 0:l.status)||g.$4.All;Ae({postId:n.postId,queryClient:a,key:n.queryKey,status:s}),i({loading:!1,visible:!1})}else{var u;W.y.error(!(null===(u=e.approveComment)||void 0===u?void 0:u.error)||r("deleteCommentError"),{itemClassName:H.Cj.bgLayer3})}})):u({commentId:n.id}).then((function(e){var l,s;(null===(l=e.deleteComment)||void 0===l?void 0:l.ok)?(W.y.success(r("deleteSuccess"),{itemClassName:H.Cj.bgLayer3}),Ee({postId:n.postId,queryClient:a,key:n.queryKey,parentKey:null===t||void 0===t?void 0:t.queryKey,topicId:o}),i({loading:!1,visible:!1})):W.y.error(!(null===(s=e.deleteComment)||void 0===s?void 0:s.error)||r("deleteCommentError"),{itemClassName:H.Cj.bgLayer3})}))}),[i,u,c,a,d,n.id,n.postId,n.queryKey,null===t||void 0===t?void 0:t.queryKey,o,r]),f=r(d?"restore":"delete"),p=(0,s.useCallback)((function(){i({visible:!0,variant:d?"info":"danger",confirmText:r(d?"confirmRestoreComment":"confirmDeleteComment"),confirmBtn:r(d?"restore":"delete"),onConfirm:v})}),[i,v,d,r]);return(0,l.jsx)(he.E,{onClick:p,icon:m,label:f,labelClassName:(0,q.yI)(H.M$.label1Group),iconClassName:(0,q.yI)(H.M$.labelGrey7Group,"h-4.5 w-4.5"),className:(0,q.yI)("group cursor-pointer gap-1")})},Ke=t(29815),We=f.Oo?function(e){var n=e.comment,t=e.queryClient,o=e.key,a=e.parentComment,l=e.questionSlug,s=e.topicId;l&&t.invalidateQueries(d.YyS.getKey({titleSlug:l}));var c=o[0]===w.QuestionComment?w.QuestionComment:w.Reply;if(c===w.QuestionComment){var m=o[1];[u.f.Best,u.f.MostVotes,u.f.NewestToOldest,u.f.OldestToNewest].filter((function(e){return e!==m.orderBy})).forEach((function(e){t.invalidateQueries([w.QuestionComment,(0,r.Z)((0,i.Z)({},m),{orderBy:e})])}))}var v=[o[0],(0,r.Z)((0,i.Z)({},o[1]),{pageNo:1})],f=c===w.QuestionComment?v:o;t.setQueryData(f,(function(e){var t,o,r=e?c===w.QuestionComment?null===e||void 0===e||null===(t=e.topicComments)||void 0===t?void 0:t.data:null===e||void 0===e?void 0:e.commentReplies:[],a=[n].concat((0,Ke.Z)(r)),l=c===w.QuestionComment?{topicComments:{data:a,totalNum:((null===e||void 0===e||null===(o=e.topicComments)||void 0===o?void 0:o.totalNum)||0)+1}}:{commentReplies:a};return(0,i.Z)({},l)})),a&&t.setQueryData(a.queryKey,(function(e){var n,t=(e?null===e||void 0===e||null===(n=e.topicComments)||void 0===n?void 0:n.data:[]).map((function(e){return e.id===a.id?(0,r.Z)((0,i.Z)({},e),{numChildren:e.numChildren+1}):e})),o=(0,r.Z)((0,i.Z)({},e),{topicComments:(0,r.Z)((0,i.Z)({},null===e||void 0===e?void 0:e.topicComments),{data:t})});return(0,i.Z)({},o)})),s&&t.setQueryData(["communitySolution",{topicId:s}],(function(e){var n;return(0,r.Z)((0,i.Z)({},e),{topic:(0,r.Z)((0,i.Z)({},null===e||void 0===e?void 0:e.topic),{topLevelCommentCount:(null===e||void 0===e||null===(n=e.topic)||void 0===n?void 0:n.topLevelCommentCount)+1})})}))}:function(e){var n=e.comment,t=e.queryClient,o=e.key,a=e.parentComment;if((o[0]===w.QuestionComment?w.QuestionComment:w.Reply)===w.QuestionComment){var l=o[1],s=[o[0],(0,r.Z)((0,i.Z)({},l),{skip:0})],u=n;t.setQueryData(s,(function(e){var n,t=(0,J.Z)(e);return(null===t||void 0===t||null===(n=t.commonTopicComments)||void 0===n?void 0:n.edges)&&(t.commonTopicComments.edges=[{node:u}].concat((0,Ke.Z)(t.commonTopicComments.edges))),t}))}else t.invalidateQueries(o);a&&t.setQueryData(a.queryKey,(function(e){var n,t=(0,J.Z)(e);t&&(null===(n=t.commonTopicComments)||void 0===n||n.edges.forEach((function(e){var n;if(Number(null===e||void 0===e||null===(n=e.node)||void 0===n?void 0:n.id)===a.id){var t=e.node.numChildren||0;e.node.numChildren=t+1}})));return t}))},Ye=f.Oo?function(){return(0,d.sHn)(v.f6)}:function(){return(0,m.sHn)(v.f6)},Xe=f.Oo?function(e){var n=e.commentId,t=e.content,o=e.queryClient,r=e.key;ne({commentId:n,changeComment:function(e){var n=(0,i.Z)({},e);return n.post.content=t,n},queryClient:o,key:r})}:function(e){var n=e.queryClient,t=e.key;n.invalidateQueries(t)},Je=f.Oo?function(){return(0,d.oRU)(v.f6)}:function(){return(0,m.oRU)(v.f6)},en=function(e){var n=e.matchAll(/\[\@[^\]]+\]\(\/u\/([^/]+)\)/g),t=new Set,o=!0,i=!1,r=void 0;try{for(var a,l=n[Symbol.iterator]();!(o=(a=l.next()).done);o=!0){var s=a.value;(null===s||void 0===s?void 0:s[1])&&t.add(s[1])}}catch(u){i=!0,r=u}finally{try{o||null==l.return||l.return()}finally{if(i)throw r}}return Array.from(t)},nn=function(e){var n=e.queryKey,t=e.parentComment,i=e.existingComment,r=e.initialContent,l=e.initialIntentionTag,u=e.saveDraft,c=e.setPageNo,d=(0,_.$G)("comments").t,m=(0,s.useState)((null===i||void 0===i?void 0:i.content)||r||""),v=m[0],p=m[1],h=(0,s.useState)(l||void 0),C=h[0],g=h[1],y=(0,s.useState)(!1),j=y[0],b=y[1],N=Number((0,Ce.wG)((function(e){return e.topicId}))),w=(0,Ce.wG)((function(e){return e.setContent})),I=(0,Ce.wG)((function(e){return e.setIntentionTag})),k=(0,X.NL)(),S=Ye().mutateAsync,Z=Je().mutateAsync,T=(0,s.useCallback)((function(e){p(e),u&&w(e)}),[p,w,u]),L=(0,s.useCallback)((function(e){g(e),u&&I(e)}),[g,I,u]),q=function(){var e=(0,o.Z)((function(){var e;return(0,a.__generator)(this,(function(o){return j?[2,{ok:!1}]:f.ob&&v.trim().length<3?(W.y.error(d("tooShort"),{itemClassName:H.Cj.bgLayer3}),[2,{ok:!1}]):(b(!0),e=(null===t||void 0===t?void 0:t.id)||0,[2,S({topicId:N,intentionTagSlug:C,parentCommentId:e,content:f.Oo?(0,x.e9)(v):v,mentionedUserSlugs:en(v)}).then((function(e){var o,i,r;if(b(!1),!(null===e||void 0===e||null===(o=e.createComment)||void 0===o?void 0:o.ok)||!(null===e||void 0===e||null===(i=e.createComment)||void 0===i?void 0:i.comment))return W.y.error((null===e||void 0===e||null===(r=e.createComment)||void 0===r?void 0:r.error)||d("somethingWentWrong"),{itemClassName:H.Cj.bgLayer3}),{ok:!1};var a=e.createComment.comment,l=Ce.yZ.getState().questionSlug;return W.y.success(d("postSuccess"),{itemClassName:H.Cj.bgLayer3}),We({comment:a,queryClient:k,key:n,parentComment:t,questionSlug:l,topicId:N}),T(""),L(void 0),c&&c(1),{ok:!0}}))])}))}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=(0,o.Z)((function(){var e;return(0,a.__generator)(this,(function(t){return j?[2,{ok:!1}]:f.ob&&v.trim().length<3?(W.y.error(d("tooShort"),{itemClassName:H.Cj.bgLayer3}),[2,{ok:!1}]):(b(!0),e=(null===i||void 0===i?void 0:i.id)||0,[2,Z({commentId:e,content:v,mentionedUserSlugs:en(v)}).then((function(t){var o,i,r,a,l;if(b(!1),!(null===t||void 0===t||null===(o=t.updateComment)||void 0===o?void 0:o.ok)||!(null===t||void 0===t||null===(i=t.updateComment)||void 0===i?void 0:i.comment))return W.y.error((null===t||void 0===t||null===(l=t.updateComment)||void 0===l?void 0:l.error)||d("somethingWentWrong"),{itemClassName:H.Cj.bgLayer3}),{ok:!1};var s=(null===(r=t.updateComment.comment)||void 0===r||null===(a=r.post)||void 0===a?void 0:a.content)||"";return Xe({content:s,commentId:e,queryClient:k,key:n}),{ok:!0}}))])}))}));return function(){return e.apply(this,arguments)}}();return{onSave:q,onEdit:R,isSaving:j,value:v,onCommentChange:T,intentionTag:C,onIntentionTagChange:L}},tn=t(99534),on=t(16496),rn=t.n(on),an=t(38564),ln=function(e){var n=e.mentionInfo,t=e.hideSelf,o=e.onMentionSelect,i=e.topicId,r=(0,s.useRef)(null),a=(0,s.useRef)(null),u=(0,s.useRef)(!1),c=n.top,d=n.left,m=n.right,v=n.visible,f=(0,s.useCallback)((function(e){var n=e.insertedContent;o(n),t()}),[t,o]);return(0,s.useEffect)((function(){var e=r.current;v&&e&&(e.style.top="".concat(c,"px"),e.style.left=void 0!==d?"".concat(d,"px"):"",e.style.right=void 0!==m?"".concat(m,"px"):"")}),[c,d,m,v]),(0,s.useEffect)((function(){var e=u.current;v&&r.current&&a.current&&!e&&a.current.focus(),u.current=v}),[v]),(0,l.jsx)("div",{ref:r,className:(0,q.yI)("absolute box-content rounded-lg z-base-1",{block:v,hidden:!v}),children:v&&(0,l.jsx)(an.p,{onBlur:t,onSelect:f,topicId:i})})};!function(e){e.Full="full",e.Slim="slim"}(ge||(ge={})),function(e){e.InlineCode="code-inline",e.CodeBlock="code",e.Link="link",e.BulletList="list",e.NumberList="number-list",e.Mention="@",e.Problem="#"}(ye||(ye={})),function(e){e.User="user",e.Problem="problem"}(je||(je={}));var sn,un=t(54042),cn=t(95633),dn=t(77318),mn=t(39940),vn=t(67962),fn=t(12455),pn=(0,t(4308).t)({highlight:!0,gfm:!0,math:!0,html:!0,mcqs:f.Oo,diaporama:f.Oo,imageSize:!0,embedVideos:f.Oo,normalVideo:!0,groupedCode:!0,relAttribute:!0,httpsImagesOnly:!0,premiumOnlyVideo:f.Oo,htmlSanitization:!0,preserveLineBreaks:f.Oo,nodebbImageTransformation:f.Oo,brokenImageHolder:!0,linkSift:f.ob,linkTargetBlank:!0,aliPlayerVideo:f.ob,slides:f.ob,toc:!0}),hn=(0,s.memo)((function(e){var n=e.content;return n?(0,l.jsx)(pn,{content:n}):null})),xn=t(25398),Cn=t(36971),gn=t(36492),yn=f.Oo?function(){return(0,d.ewH)(v.f6,{},{select:function(e){var n=e.intentionTags;return n||[]}})}:function(){return(0,gn.a)(d.ewH.getKey({}),(function(){return[{name:"Feedback",slug:"feedback"},{name:"Tip",slug:"tip"},{name:"Ask Question",slug:"ask-question"}]}))},jn=t(36258),bn=function(e){var n=e.intentionTag,t=e.setIntentionTag,o=(0,_.$G)("comments").t,i=yn().data,r=(0,Ce.wG)((function(e){return e.setIntentionTags}));(0,s.useEffect)((function(){return i&&r(i)}),[r,i]);var a=(0,s.useMemo)((function(){return(null!==i&&void 0!==i?i:[]).map((function(e){return{value:e.slug,text:e.name}}))}),[i]),u=(0,s.useMemo)((function(){return a.find((function(e){return e.value===n}))}),[a,n]);return(0,l.jsx)("div",{className:"relative flex items-center space-x-2",children:(0,l.jsx)(Cn.L,{selected:null===u||void 0===u?void 0:u.value,icon:(0,l.jsx)("div",{className:(0,q.yI)(H.Cj.labelBlueStandard,"text-xs font-medium"),children:(0,l.jsx)(jn.h,{})}),iconClassName:"w-4 h-4 ml-0.5",itemsClassName:(0,q.yI)(H.Cj.bgLayer3,"left-0 top-[22px] text-md"),itemClassName:(0,q.yI)("font-normal",H.Cj.label2),itemSelectedClassName:(0,q.yI)("font-medium",H.Cj.label1),btnClassName:(0,q.yI)(H.Cj.bgTransparent,H.Cj.bgTransparentActive,H.Cj.bgTransparentHover,H.Cj.labelBlueStandard,"p-0"),setSelected:function(e){t&&t(e)},items:a,btnText:(0,l.jsx)("div",{className:(0,q.yI)(H.Cj.labelBlueStandard,"text-xs font-medium"),children:u?null===u||void 0===u?void 0:u.text:o("chooseAType")})})})},Nn=(0,q.yI)("transition-colors cursor-pointer py-[5px] px-3 rounded-lg"),wn=function(e){var n=e.rule,t=e.onClick,o=e.icon,i=e.className,r=(0,s.useCallback)((function(){return t(n)}),[t,n]);return(0,l.jsx)("div",{className:(0,q.yI)("flex cursor-pointer items-center rounded-[5px] p-1 text-base",H.Cj.labelGrey7,H.Cj.fill4Hover,i),onClick:r,children:o})},In=(0,s.forwardRef)((function(e,n){var t,u,c,d=e.onInsertRule,m=e.onCancel,v=e.className,p=e.placeholder,h=e.onSave,x=e.intentionTag,C=e.onIntentionTagChange,g=e.onSaveText,y=e.disabled,j=e.onChange,b=e.value,N=e.defaultValue,w=(0,tn.Z)(e,["onInsertRule","onCancel","className","placeholder","onSave","intentionTag","onIntentionTagChange","onSaveText","disabled","onChange","value","defaultValue"]),I=(0,_.$G)("comments").t,k=(0,s.useRef)(null),S=(0,Ce.wG)((function(e){return e.layoutType})),Z=(0,Ce.yZ)((function(e){return e.questionSlug})),L=(0,B.Z)((0,cn.O)(!1),2),M=L[0],D=L[1],E=(0,s.useCallback)((function(){Z&&!M&&R.d.qdPreviewCommentClick({qd_version:T.AQ,qd_question_slug:Z,qd_comment_pos:be(S)}),D.toggle()}),[D,S,Z,M]),A=S===Ce.Dk.Discuss||S===Ce.Dk.Description,G=A&&!M&&!N,P=(0,q.yI)("w-full resize-none bg-transparent p-4 text-md outline-0 outline-none dark:bg-transparent min-h-[80px]",H.Cj.placeholderLabel4,v),z=(0,q.yI)({hidden:M,inherit:!M}),Q=y||0===(null===b||void 0===b?void 0:b.trim().length),U=(0,s.useCallback)((0,o.Z)((function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return[4,h()];case 1:return e.sent(),D.off(),[2]}}))})),[h,D]);return(0,l.jsxs)("div",{className:(0,q.yI)("flex w-full flex-col rounded-[13px]",H.Cj.bgLayer2,H.eq.card),ref:k,children:[M&&(0,l.jsx)("div",{className:(0,q.yI)("min-h-[80px]",P),children:(0,l.jsx)(hn,{content:b})}),(0,l.jsx)(un.Z,(0,r.Z)((0,i.Z)({disabled:y,value:b,onChange:j},w,dn.g),{ref:n,placeholder:p||I("typeCommentHere"),className:(0,q.yI)(P,z)})),(0,l.jsxs)("div",{className:"relative box-content flex h-8 items-end p-4",children:[(0,l.jsxs)("div",{className:"flex flex-1 flex-col",children:[A&&!M&&G&&f.Oo&&(0,l.jsx)("div",{className:"absolute top-0",children:(0,l.jsx)(bn,{intentionTag:x,setIntentionTag:C})}),(0,l.jsxs)("div",{className:(0,q.yI)("flex h-8 items-end gap-2",z),children:[(0,l.jsx)(wn,{onClick:d,icon:(0,l.jsx)(mn.w,{}),rule:ye.InlineCode}),(0,l.jsx)(wn,{onClick:d,icon:(0,l.jsx)(vn.J,{}),rule:ye.Link}),(0,l.jsx)(wn,{onClick:d,icon:(0,l.jsx)(fn.Z,{}),rule:ye.Mention})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(xn.z,{disabled:Q,className:(0,q.yI)(Nn,H.Cj.label3,(t={},(0,O.Z)(t,H.Cj.label2Hover,!Q),(0,O.Z)(t,(0,q.yI)(H.Cj.labelBlueStandard,H.Cj.labelBlue3Hover),M),(0,O.Z)(t,"cursor-not-allowed",Q),t),"bg-transparent hover:!bg-transparent dark:bg-transparent"),onClick:E,children:I(M?"editor":"preview")}),m&&(0,l.jsx)(xn.z,{disabled:y,onClick:m,className:(0,q.yI)(Nn,H.Cj.fill2,H.Cj.fill3Hover,"text-label-1 dark:text-white",(u={},(0,O.Z)(u,"opacity-40",y),(0,O.Z)(u,"opacty-100",!y),u)),children:I("cancel")}),(0,l.jsx)(xn.z,{disabled:y||0===(null===b||void 0===b?void 0:b.trim().length),onClick:U,className:(0,q.yI)(Nn,H.Cj.bgGreenStandard,H.Cj.bgGreen3Hover,H.Cj.labelWhite,(c={},(0,O.Z)(c,"opacity-40",y),(0,O.Z)(c,"opacty-100",!y),c)),children:g||I("comment")})]})]})]})})),kn=t(32180),Sn=(0,q.yI)("transition-colors cursor-pointer py-[4px] px-3 rounded-[20px]"),Zn=(0,s.forwardRef)((function(e,n){var t,o,a=e.onCancel,s=e.className,u=e.placeholder,c=e.onSave,d=e.onChange,m=e.onSaveText,v=e.disabled,f=e.value,p=(0,tn.Z)(e,["onCancel","className","placeholder","onSave","onChange","onSaveText","disabled","value"]),h=(0,_.$G)("comments").t,x=(0,kn.Z)(p,["intentionTag","onInsertRule","onIntentionTagChange"]);return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:(0,l.jsx)(un.Z,(0,r.Z)((0,i.Z)({},x,dn.g),{ref:n,disabled:v,value:f,onChange:d,placeholder:u||h("typeCommentHere"),className:(0,q.yI)("w-full resize-none rounded-[13px] bg-transparent p-2.5 text-sm outline-none dark:bg-transparent",H.Cj.bgLayer2,H.eq.card,H.Cj.placeholderLabel4,s),rows:1}))}),(0,l.jsx)("div",{className:"mt-2 ml-2 flex",children:(0,l.jsxs)("div",{className:"flex flex-1 items-center justify-end space-x-4",children:[(0,l.jsx)(xn.z,{onClick:a,disabled:v,className:(0,q.yI)(Sn,H.Cj.fill3,H.Cj.label2,(t={},(0,O.Z)(t,"opacity-40",v),(0,O.Z)(t,"opacty-100",!v),t)),children:h("cancel")}),(0,l.jsx)(xn.z,{onClick:c,disabled:v||0===(null===f||void 0===f?void 0:f.trim().length),className:(0,q.yI)(Sn,H.Cj.bgGreenStandard,H.Cj.bgGreen3Hover,H.Cj.labelWhite,(o={},(0,O.Z)(o,"opacity-40",v),(0,O.Z)(o,"opacty-100",!v),o)),children:m||h("comment")})]})})]})})),Tn=t(61757),Ln=new Map([[ye.InlineCode,function(e){return"`".concat(e,"`")}],[ye.CodeBlock,function(e){return"```".concat(e,"```")}],[ye.Link,function(e){return"[".concat(e,"](").concat(e,")")}]]),qn=function(e){var n=e.rule,t=e.textareaEle,o=e.defaultTemplate,i=Tn.Mf(t),r=o;if(i&&function(e){return!!Ln.has(e)}(n)){var a=function(e){return Ln.get(e)}(n);r=a?a(i):o}Tn.$T(t,r)},Rn=function(e){var n=e.className,t=e.variation,i=void 0===t?ge.Full:t,r=e.disabled,u=void 0!==r&&r,c=e.value,d=e.onSave,m=e.onSaveText,v=e.topicId,f=e.placeholder,p=e.defaultValue,h=e.innerRef,x=e.onCancel,C=e.intentionTag,g=e.onIntentionTagChange,y=(0,tn.Z)(e,["className","variation","disabled","value","onSave","onSaveText","topicId","placeholder","defaultValue","innerRef","onCancel","intentionTag","onIntentionTagChange"]),j=(0,s.useCallback)((function(e){g&&g(e)}),[g]),b=(0,_.$G)("comments").t,N=(0,s.useState)({top:0,left:0,visible:!1}),w=N[0],I=N[1],k=h,S=(0,s.useRef)((p||"").length),Z=(0,s.useCallback)((function(e){switch(e){case ye.InlineCode:return" `".concat(b("mdRules.inlineCode"),"your inline code...`");case ye.CodeBlock:return"\n```\n".concat(b("mdRules.codeBlock"),"\n```\n");case ye.Link:return"[".concat(b("mdRules.link"),"](").concat(b("mdRules.href"),")");case ye.Mention:return" @";default:return""}}),[b]),T=function(){var e=k.current;e&&(S.current=e.selectionEnd)},L=function(){I({visible:!1,top:0,left:0})},q=function(){var e=k.current;if(e){var n=rn()(e,S.current),t=n.top,o=n.left,i=Ce.yZ.getState().containerWidth||0;I(o+250+5+16>i?{top:t+20,right:0,visible:!0}:{top:t-5,left:o+5,visible:!0})}},R=function(){var e=k.current;e&&(e.focus(),e.selectionEnd=S.current)},B=function(e){switch(e){case ge.Full:return In;case ge.Slim:return Zn;default:return In}}(i);return(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(B,{value:c,disabled:u,onInsertRule:function(e){var n=k.current;if(n){var t=Z(e);qn({rule:e,textareaEle:n,defaultTemplate:t}),e===ye.Mention?setTimeout((function(){return q()}),0):R()}},className:n,ref:k,placeholder:f,onChange:function(e){!function(e){y.onChange(e)}(e.currentTarget.value)},onFocus:function(){L()},onBlur:function(){T()},innerRef:h,onKeyDown:function(e){var n=e.key,t=e.metaKey;setTimeout((0,o.Z)((function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:switch(T(),n){case ye.Mention:return[3,1];case"Enter":return[3,2]}return[3,4];case 1:return q(),[3,5];case 2:return t?[4,d()]:[3,5];case 3:return e.sent(),[3,5];case 4:return w.visible&&L(),[3,5];case 5:return[2]}}))})),18)},defaultValue:p,onCancel:x,onSave:d,onSaveText:m,intentionTag:C,onIntentionTagChange:j}),(0,l.jsx)(ln,{mentionInfo:w,topicId:v,hideSelf:function(){L(),R()},onMentionSelect:function(e){var n,t,o=k.current;o&&(o.selectionStart=o.selectionEnd-1,n=e,t=o,Tn.$T(t,n))}})]})},Bn=function(e){return(0,l.jsx)("div",{children:(0,l.jsx)(Rn,(0,i.Z)({},e))})},_n=t(111),Mn=t(42673),Hn=function(e){var n=e.content,t=(0,_.$G)("comments").t,o=(0,s.useState)(!1),i=o[0],r=o[1],a=(0,s.useState)(null),u=a[0],c=a[1],d=(0,s.useState)(!1),m=d[0],v=d[1];(0,$.L)((function(){setTimeout((function(){v(((null===u||void 0===u?void 0:u.scrollHeight)||0)>=140)}),1)}),[u,n]);var f,p,h=(0,s.useMemo)((function(){return m&&!i}),[m,i]),x=(0,s.useCallback)((function(){v(((null===u||void 0===u?void 0:u.scrollHeight)||0)>=140)}),[null===u||void 0===u?void 0:u.scrollHeight]),C=(0,s.useMemo)((function(){return(0,_n.Z)(x,250)}),[x]),g=(0,Mn.a)(u).width;return(0,s.useEffect)((function(){g&&C()}),[g,C]),(0,l.jsx)("div",{className:"flex flex-col items-start",children:(0,l.jsxs)("div",{className:(0,q.yI)("relative w-full",(f={},(0,O.Z)(f,"overflow-hidden",h),(0,O.Z)(f,"block",!h),(0,O.Z)(f,"max-h-[140px]",!i),(0,O.Z)(f,"max-h-full",i),f)),children:[(0,l.jsx)("div",{className:"px-2.5",ref:c,children:(0,l.jsx)(hn,{content:n})}),(0,l.jsx)("div",{className:(0,q.yI)("cursor-pointer",(p={},(0,O.Z)(p,"absolute top-0 flex h-full w-full items-end bg-gradient-to-t from-[#F2F2F2] dark:from-[#393939]",h),(0,O.Z)(p,"hidden",!h),p)),onClick:function(){return r(!0)},children:(0,l.jsx)("div",{className:(0,q.yI)("flex w-full items-center justify-center text-md",H.Cj.label2),children:t("readMore")})})]})})},Dn=t(11567),En=t(4401),On=t(15197),An=function(e){var n,t,i,r=e.parentComment,u=e.comment,c=e.updateConfirmModal,d=e.updateReportModal,m=e.updateMoveToSolutionsModal,v=(0,_.$G)("comments").t,p=(0,Ce.wG)((function(e){return e.highlightedCommentId})),h=(0,Ce.wG)((function(e){return e.setHighlightedCommentId})),x=(0,Ce.wG)((function(e){return e.layoutType})),C=(0,Ce.yZ)((function(e){return e.questionSlug})),y=p===u.id,j=(0,s.useRef)(null);(0,$.L)((function(){y&&j.current&&j.current.scrollIntoView()}),[y]),(0,$.L)((function(){if(p){var e=function(){return h()};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}}),[p,h]);var b=G({commentId:r.id}),N=nn({queryKey:u.queryKey,existingComment:u}),w=N.value,I=N.onEdit,k=N.onCommentChange,Z=N.isSaving,L=(0,s.useMemo)((function(){return"[@".concat(u.realName||u.username,"](").concat(Y.Hb.profile((null===u||void 0===u?void 0:u.userSlug)||u.username),") ")}),[u.realName,u.username,u.userSlug]),M=nn({queryKey:b,parentComment:r,initialContent:L}),D=M.value,E=M.onSave,P=M.onCommentChange,V=M.isSaving,X=(0,s.useRef)(null),J=(0,s.useState)(!1),ee=J[0],ne=J[1],te=(0,B.Z)((0,K.X)(),2),oe=te[0],re=te[1];(0,s.useEffect)((function(){oe(ee?null:j.current),ee&&U(X.current)}),[oe,ee]);var ae=(0,s.useCallback)((0,o.Z)((function(){return(0,a.__generator)(this,(function(e){return[2,I().then((function(e){var n=e.ok;return n&&ne(!1),{ok:n}}))]}))})),[I]),le=(0,s.useState)(!1),se=le[0],ue=le[1],ce=(0,s.useRef)(null);(0,s.useEffect)((function(){return se?U(ce.current):void 0}),[se]);var de,me=(0,s.useCallback)((function(){return ne(!0)}),[]),ve=(0,s.useCallback)((function(){return ne(!1)}),[]),fe=(0,F.r)().isSignedIn,pe=(0,s.useCallback)((function(){fe?(ue((function(e){return!e})),!se&&C&&R.d.qdReplyCommentClick({qd_version:T.AQ,qd_question_slug:C,qd_comment_pos:be(x),qd_comment_type:ie.Reply})):W.y.error(v("common:loginRequired"))}),[fe,v,C,se,x]),he=(0,s.useCallback)((function(){return ue(!1)}),[]),xe=z({commentId:r.id},{enabled:!0}).refetch,ye=function(){var e=(0,o.Z)((function(){var e;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,E()];case 1:return(e=n.sent()).ok&&(ue(!1),xe(),C&&R.d.qdSubmitCommentClick({qd_version:T.AQ,qd_question_slug:C,qd_comment_pos:be(x),qd_comment_type:ie.Reply})),[2,e]}}))}));return function(){return e.apply(this,arguments)}}(),je=(0,s.useCallback)((function(){C&&R.d.qdShareCommentClick({qd_version:T.AQ,qd_question_slug:C,qd_comment_pos:be(x),qd_comment_type:ie.Reply})}),[C,x]),we=f.Oo?(0,q.yI)((de={},(0,O.Z)(de,"opacity-1",!u.isHidden&&u.status!==g.$4.Deleted),(0,O.Z)(de,"opacity-40",u.isHidden||u.status===g.$4.Deleted),de)):"",Ie=(0,Ce.yZ)((function(e){return e.containerWidth})),ke=!!Ie&&Ie<Xn,Ze=!Ie||x!==Ce.Dk.Discuss||Xn<Ie,Le=(0,Ce.wG)((function(e){return e.isModerator})),qe=!(u.status===g.$4.Deleted)&&(u.isOwnPost&&!Le),Be=(0,S.U)().data,_e=(null===Be||void 0===Be||null===(n=Be.userStatus)||void 0===n?void 0:n.name)||(null===Be||void 0===Be||null===(t=Be.userStatus)||void 0===t?void 0:t.username)||"",Me=(null===Be||void 0===Be||null===(i=Be.userStatus)||void 0===i?void 0:i.avatar)||"",He="max-w-[24px] max-h-[24px] min-h-[24px] min-w-[24px] h-6 w-6",De=(0,Ce.wG)((function(e){return e.topicId})),Ee=(0,Q.v)(u.username);return ee?(0,l.jsxs)("div",{className:"flex w-full gap-2 px-3 pt-4 pb-2",children:[(0,l.jsx)(Dn.D,{userAvatar:u.userAvatar,username:u.username,imgClassName:He}),(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)(Bn,{value:w,onSave:ae,defaultValue:u.content,disabled:Z,innerRef:X,topicId:De||0,onChange:k,onSaveText:String(v("edit")),onCancel:ve,variation:ge.Slim})})]}):(0,l.jsxs)("div",{className:"flex flex-col",ref:j,children:[(0,l.jsxs)("div",{className:(0,q.yI)("flex w-full px-3 pt-4 pb-2 transition-[background] duration-500",(0,O.Z)({},(0,q.yI)(H.Cj.bgBlue0,"rounded-lg"),y)),children:[(0,l.jsx)(Dn.D,{userAvatar:u.userAvatar,username:u.username,imgClassName:(0,q.yI)("mr-2",He,we)}),(0,l.jsxs)("div",{className:"flex w-full min-w-0 flex-col",children:[(0,l.jsxs)("div",{className:(0,q.yI)("flex w-full flex-col gap-1 overflow-hidden rounded-[13px]",H.Cj.label2,H.Cj.fill3),children:[(0,l.jsxs)("div",{className:(0,q.yI)("mt-2.5 flex w-full items-center gap-2 px-2.5",we),children:[(0,l.jsx)(En.S,{username:u.username,badgeIcon:u.activeBadgeIcon,badgeName:u.activeBadgeName,badgeClassName:(0,q.yI)("ml-1"),realName:u.realName,reputation:u.reputation,userClassName:(0,q.yI)(H.Cj.label1,"text-xs font-medium")}),(0,l.jsx)("div",{children:(0,l.jsx)(Ue,{status:u.status,isHidden:u.isHidden})}),(0,l.jsxs)("div",{className:"flex flex-1 justify-end space-x-2",children:[f.ob&&u.ipRegion&&!ke&&(0,l.jsxs)("span",{className:(0,q.yI)("shrink-0 whitespace-nowrap text-[11px] leading-[13px]",H.Cj.label3),children:[" ","\u53d1\u5e03\u4e8e ",u.ipRegion]}),(0,l.jsx)(On.c,{timestamp:u.creationDate,useCalendarIcon:!1,createdAtClassName:(0,q.yI)("justify-end",{"!min-w-fit":f.ob&&!!u.ipRegion}),formattedDateClassName:(0,q.yI)(H.Cj.label3,"text-[11px] leading-[13px]")}),f.ob&&Ee&&u.status===g.$4.Pending&&(0,l.jsx)("div",{className:(0,q.yI)(H.Cj.label3,"shrink-0 whitespace-nowrap text-[11px] leading-[13px]"),children:"\u5ba1\u6838\u4e2d"})]})]}),(0,l.jsx)("div",{className:(0,q.yI)(H.Cj.label1,"mb-2.5 text-xs",we),children:(0,l.jsx)(Hn,{content:u.content})})]}),(0,l.jsx)("div",{className:(0,q.yI)("mt-4 flex items-center gap-4 text-xs",H.Cj.label2),children:(0,l.jsxs)("div",{className:(0,q.yI)("flex items-center gap-4",we),children:[(0,l.jsx)(Ne,{comment:u,isMyself:Ee,trackingCommentType:ie.Reply}),(0,l.jsx)(Se,{showLabel:Ze,onClick:pe}),(0,l.jsxs)(A.u,{className:"flex items-center gap-4 text-xs",show:re,enter:"transition ease-out duration-200",leave:"transition ease-in duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:[(0,l.jsx)(Te,{showLabel:Ze,isOwnPost:u.isOwnPost,onClick:me}),(0,l.jsx)(Re,{showLabel:Ze,commentId:u.id,onShareClick:je}),qe&&(0,l.jsx)(Ve,{comment:u,parentComment:r,updateModal:c}),(0,l.jsx)(ze,{comment:u,isPinnable:!1,updateConfirmModal:c,updateReportModal:d,updateMoveToSolutionsModal:m})]})]})})]})]}),se&&(0,l.jsxs)("div",{className:"mt-4 flex px-3",children:[(0,l.jsx)(Dn.D,{userAvatar:Me,username:_e,imgClassName:(0,q.yI)("mr-2 max-w-[24px] max-h-[24px] min-h-[24px] min-w-[24px] h-6 w-6")}),(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(Bn,{value:D,onSave:ye,disabled:V,innerRef:ce,topicId:De||0,onChange:P,onCancel:he,variation:ge.Slim})})]})]})},Gn=t(50293),Pn=t(14249),zn=function(){return(0,l.jsx)("div",{className:(0,q.yI)("flex h-full w-full"),children:(0,l.jsxs)(Gn.O,{className:"flex w-full flex-col space-y-5",children:[(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)("div",{className:"h-8",children:(0,l.jsx)(Pn.a,{className:"!h-full w-8 rounded-full"})}),(0,l.jsxs)("div",{className:"flex w-[80px] flex-col space-y-2",children:[(0,l.jsx)(Pn.a,{className:"h-4 w-3/4"}),(0,l.jsx)(Pn.a,{className:"h-[14px] w-full"})]})]}),(0,l.jsxs)("div",{className:"flex flex-col space-y-2.5",children:[(0,l.jsx)(Pn.a,{className:"h-4 w-full"}),(0,l.jsx)(Pn.a,{className:"h-4 w-1/3"})]})]})})},Qn=function(){return(0,l.jsx)("div",{className:(0,q.yI)("flex h-full w-full"),children:(0,l.jsxs)(Gn.O,{className:"flex w-full",children:[(0,l.jsxs)("div",{className:"flex w-full space-x-3",children:[(0,l.jsx)("div",{className:"h-6",children:(0,l.jsx)(Pn.a,{className:"!h-full w-6 rounded-full"})}),(0,l.jsxs)("div",{className:"flex flex-1 flex-col space-y-2",children:[(0,l.jsxs)("div",{className:"flex w-full justify-between",children:[(0,l.jsx)(Pn.a,{className:"h-3 w-1/3"}),(0,l.jsx)(Pn.a,{className:"h-3 w-[80px]"})]}),(0,l.jsx)(Pn.a,{className:"h-[12px] w-full"}),(0,l.jsx)(Pn.a,{className:"h-[12px] w-2/3"})]})]}),(0,l.jsxs)("div",{className:"flex flex-col space-y-2.5",children:[(0,l.jsx)(Pn.a,{className:"h-3 w-full"}),(0,l.jsx)(Pn.a,{className:"h-3 w-1/3"})]})]})})},Un=function(e){var n=e.itemsCount,t=Array(n).fill(null);return(0,l.jsx)("div",{className:"flex flex-col gap-8 px-5 py-3",children:t.map((function(e,n){return(0,l.jsx)(zn,{},n)}))})},$n=function(e){var n=e.parentComment,t=e.highlightedReplyId,o=e.hideReplies,r=e.updateConfirmModal,a=e.updateReportModal,u=e.updateMoveToSolutionsModal,c=(0,s.useState)(5),d=c[0],m=c[1],v=(0,Ce.yZ)((function(e){return e.questionSlug})),p=z({commentId:n.id,pageNo:1,numPerPage:d,upToReplyId:t}),h=p.isFetching,x=p.data,C=(null!==x&&void 0!==x?x:{}).comments;(0,s.useEffect)((function(){return m((function(e){return(null===C||void 0===C?void 0:C.length)?C.length:e}))}),[null===C||void 0===C?void 0:C.length]);var g,y=(0,_.$G)("comments").t,j=((null===x||void 0===x?void 0:x.total)||0)>d,b=(0,s.useCallback)((function(){j&&(m(d+5),v&&R.d.qdExpandCommentClick({qd_version:T.AQ,qd_question_slug:v}))}),[d,j,v]),N=(0,s.useCallback)((function(){o(),m(5)}),[o]),w=null!==(g=null===C||void 0===C?void 0:C.map((function(e){return e.userSlug})))&&void 0!==g?g:[],I=(0,D.E)(w).data,k=(0,s.useMemo)((function(){return f.Oo?C:null===C||void 0===C?void 0:C.map((function(e){var n,t,o=null!==(t=null===(n=e.userSlug)||void 0===n?void 0:n.toLowerCase())&&void 0!==t?t:"",r=null===I||void 0===I?void 0:I[o];return(0,i.Z)({},e,r)}))}),[C,I]);return h?(0,l.jsx)("div",{className:"mx-5",children:(0,l.jsx)(Qn,{})}):(0,l.jsxs)("div",{className:"flex flex-col",children:[k&&k.map((function(e){return(0,l.jsx)(An,{parentComment:n,comment:e,updateConfirmModal:r,updateReportModal:a,updateMoveToSolutionsModal:u},e.id)})),(0,l.jsxs)("div",{className:"flex w-full justify-between px-3 pt-2",children:[(0,l.jsx)("div",{onClick:b,className:(0,q.yI)("cursor-pointer text-xs font-medium",H.Cj.labelBlueStandard,{flex:j,invisible:!j}),children:y("showMoreReplies")}),(0,l.jsx)("div",{onClick:N,className:(0,q.yI)("group cursor-pointer pb-3 pr-3"),children:(0,l.jsx)(he.E,{icon:Qe.S,label:String(y("hide")),labelClassName:(0,q.yI)(H.Cj.label1GroupHover),iconClassName:(0,q.yI)("w-4 h-4",H.Cj.label1GroupHover)})})]})]})},Fn=function(e){var n=e.content,t=(0,_.$G)("comments").t,o=(0,s.useState)(!1),i=o[0],r=o[1],a=(0,s.useState)(null),u=a[0],c=a[1],d=(0,s.useState)(!1),m=d[0],v=d[1];(0,$.L)((function(){setTimeout((function(){v(((null===u||void 0===u?void 0:u.scrollHeight)||0)>=230)}),1)}),[u,n]);var f,p,h=(0,s.useMemo)((function(){return m&&!i}),[m,i]),x=(0,s.useCallback)((function(){v(((null===u||void 0===u?void 0:u.scrollHeight)||0)>=230)}),[null===u||void 0===u?void 0:u.scrollHeight]),C=(0,s.useMemo)((function(){return(0,_n.Z)(x,250)}),[x]),g=(0,Mn.a)(u).width;return(0,s.useEffect)((function(){g&&C()}),[g,C]),(0,l.jsxs)("div",{className:(0,q.yI)("relative",(f={},(0,O.Z)(f,"overflow-hidden",h),(0,O.Z)(f,"block",!h),(0,O.Z)(f,"max-h-[230px]",!i),(0,O.Z)(f,"max-h-full",i),f)),children:[(0,l.jsx)("div",{ref:c,children:(0,l.jsx)(hn,{content:n})}),(0,l.jsx)("div",{className:(0,q.yI)("cursor-pointer",(p={},(0,O.Z)(p,"absolute top-0 flex h-full w-full items-end bg-gradient-to-t from-layer-1 dark:from-dark-layer-1",h),(0,O.Z)(p,"hidden",!h),p)),onClick:function(){return r(!0)},children:(0,l.jsx)("div",{className:(0,q.yI)("flex w-full items-center justify-center text-md",H.Cj.label1),children:t("readMore")})})]})},Vn=t(12966),Kn=s.forwardRef((function(e,n){return(0,l.jsx)("svg",(0,r.Z)((0,i.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M12.93 3.586a2 2 0 012.829 0l4.849 4.849a2 2 0 010 2.828l-4.497 4.496a2 2 0 00-.558 1.086l-.586 3.512a1 1 0 01-1.693.543L8.99 16.617l-3.879 3.879a1 1 0 01-1.414-1.415l3.879-3.878-4.283-4.283a1 1 0 01.543-1.694l3.512-.585a2 2 0 001.085-.559l4.497-4.496z",clipRule:"evenodd"})}))})),Wn=function(e){var n=e.pinnedBy,t=(0,_.$G)("comments").t;return(0,l.jsx)("div",{className:"w-fit",children:(0,l.jsx)(Vn.ua7,{label:t("pinnedBy",{pinnedBy:n}),hasArrow:!1,children:(0,l.jsxs)("div",{className:(0,q.yI)(H.Cj.labelBlueStandard,"flex items-center space-x-1.5 text-xs font-medium"),children:[(0,l.jsx)(Kn,{}),(0,l.jsx)("span",{children:t("pinned")})]})})})},Yn=function(e){var n,t=e.type,o=(0,Ce.wG)((function(e){return e.tagNamesMap}));return(0,l.jsx)("div",{className:"inline-block",children:(0,l.jsx)("div",{className:(0,q.yI)(H.Cj.fill3,H.Cj.label2,"rounded-[38px] py-0.5 px-2.5 text-xs font-medium"),children:null!==(n=o.get(t))&&void 0!==n?n:"Unknown"})})},Xn=475,Jn=function(e){var n,t,i,r=e.comment,u=e.updateConfirmModal,c=e.updateReportModal,d=e.updateMoveToSolutionsModal,v=(0,_.$G)("comments").t,p=(0,Q.v)(r.username),h=(0,s.useState)(!1),x=h[0],C=h[1],y=(0,s.useRef)(null),j=(0,s.useRef)(null),b=(0,s.useRef)(null),N=(0,Ce.wG)((function(e){return e.topicId})),w=(0,s.useState)(!1),I=w[0],k=w[1],Z=(0,B.Z)((0,K.X)(),2),L=Z[0],M=Z[1];(0,s.useEffect)((function(){L(I?null:b.current),I&&U(y.current)}),[L,I]);var D=(0,Ce.wG)((function(e){return e.highlightedCommentId})),E=(0,Ce.wG)((function(e){return e.setHighlightedCommentId})),P=(0,Ce.wG)((function(e){return e.parentOfHighlightedCommentId})),z=(0,Ce.wG)((function(e){return e.layoutType})),Y=(0,Ce.yZ)((function(e){return e.questionSlug})),X=D===r.id,J=P===r.id,ee=D!==r.id?D:void 0,ne=(0,S.U)().data,te=(null===ne||void 0===ne||null===(n=ne.userStatus)||void 0===n?void 0:n.name)||(null===ne||void 0===ne||null===(t=ne.userStatus)||void 0===t?void 0:t.username)||"",oe=(null===ne||void 0===ne||null===(i=ne.userStatus)||void 0===i?void 0:i.avatar)||"";(0,$.L)((function(){X&&j.current&&j.current.scrollIntoView()}),[X]),(0,$.L)((function(){if(D){J&&C(!0);var e=function(){return E()};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}}),[D,J,E]);var re=(0,s.useState)(!1),ae=re[0],le=re[1];(0,s.useEffect)((function(){return ae?U(y.current):void 0}),[ae]);var se,ue=(0,s.useCallback)((function(){C(!x),Y&&(!x&&R.d.qdShowRepliesClick({qd_version:T.AQ,qd_question_slug:Y}),x&&R.d.qdHideRepliesClick({qd_version:T.AQ,qd_question_slug:Y}))}),[x,Y]),ce=(0,F.r)().isSignedIn,de=(0,s.useCallback)((function(){ce?(le((function(e){return!e})),!ae&&Y&&R.d.qdReplyCommentClick({qd_version:T.AQ,qd_question_slug:Y,qd_comment_pos:be(z),qd_comment_type:ie.Comment})):W.y.error(v("common:loginRequired"))}),[ce,v,Y,z,ae]),me=(0,s.useCallback)((function(){C(!1),Y&&R.d.qdHideRepliesClick({qd_version:T.AQ,qd_question_slug:Y})}),[Y]),ve=(0,s.useCallback)((function(){return le(!1)}),[]),fe=(0,s.useCallback)((function(){return k(!1)}),[]),pe=G({commentId:r.id}),he=nn({queryKey:pe,parentComment:r}),xe=he.value,ye=he.onSave,je=he.onCommentChange,we=he.isSaving,ke=nn({queryKey:r.queryKey,existingComment:r}),Ze=ke.value,Le=ke.onEdit,qe=ke.onCommentChange,Be=ke.isSaving,_e=function(){var e=(0,o.Z)((function(){var e;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,ye()];case 1:return(e=n.sent()).ok&&(C(!0),le(!1),Y&&R.d.qdSubmitCommentClick({qd_version:T.AQ,qd_question_slug:Y,qd_comment_pos:be(z),qd_comment_type:ie.Reply})),[2,e]}}))}));return function(){return e.apply(this,arguments)}}(),Me=(0,s.useCallback)((function(){Y&&R.d.qdShareCommentClick({qd_version:T.AQ,qd_question_slug:Y,qd_comment_pos:be(z),qd_comment_type:ie.Comment})}),[Y,z]),He=(0,s.useCallback)((function(){return k(!0)}),[]),De=function(){var e=(0,o.Z)((function(){return(0,a.__generator)(this,(function(e){return[2,Le().then((function(e){var n=e.ok;return n&&k(!1),{ok:n}}))]}))}));return function(){return e.apply(this,arguments)}}(),Ee=f.Oo?(0,q.yI)((se={},(0,O.Z)(se,"opacity-1",!r.isHidden&&r.status!==g.$4.Deleted),(0,O.Z)(se,"opacity-40",r.isHidden||r.status===g.$4.Deleted),se)):"",Oe=(0,Ce.yZ)((function(e){return e.containerWidth})),Ae="number"===typeof Oe&&Oe<Xn,Ge=(0,V.tq)(),Pe=z===Ce.Dk.Description,Qe=z===Ce.Dk.Discuss||Pe?!Ae:!Ge,$e=(0,Ce.wG)((function(e){return e.isModerator})),Fe=!(r.status===g.$4.Deleted)&&(r.isOwnPost&&!$e);return I?(0,l.jsx)("div",{className:(0,q.yI)({"mx-2 px-3":!Pe},"py-3"),children:(0,l.jsx)(Bn,{value:Ze,onSave:De,onSaveText:v("edit"),defaultValue:r.content,disabled:Be,innerRef:y,topicId:N||0,onChange:qe,onCancel:fe,variation:ge.Full})}):(0,l.jsxs)("div",{className:(0,q.yI)({"mx-2":!Pe},"transition-[background] duration-500",(0,O.Z)({},(0,q.yI)(H.Cj.bgBlue0,"rounded-lg"),X)),ref:j,children:[(0,l.jsxs)("div",{className:(0,q.yI)({"px-3":!Pe},"flex w-full flex-col py-3"),ref:b,children:[(0,l.jsxs)("div",{className:(0,q.yI)("flex w-full items-center gap-3",Ee),children:[(0,l.jsx)(Dn.D,{userAvatar:r.userAvatar,username:r.username}),(0,l.jsxs)("div",{className:"flex w-full",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[r.pinned&&(0,l.jsx)(Wn,{pinnedBy:r.pinnedBy.username}),(0,l.jsxs)("div",{className:"flex w-full items-center gap-2",children:[(0,l.jsx)(En.S,{realName:r.realName,username:r.username,badgeIcon:r.activeBadgeIcon,badgeName:r.activeBadgeName,reputation:r.reputation,badgeClassName:(0,q.yI)("h-4 w-4 ml-1"),userClassName:(0,q.yI)(H.Cj.label1,"font-medium",{"text-[14px]":!f.Oo,"text-base":f.Oo})}),(0,l.jsx)("div",{className:(0,q.yI)("ml-2"),children:f.Oo&&(0,l.jsx)(Ue,{status:r.status,isHidden:r.isHidden})})]})]}),(0,l.jsxs)("div",{className:"flex flex-1 items-center justify-end gap-2",children:[!f.Oo&&!!r.ipRegion&&!Ae&&(0,l.jsxs)("span",{className:(0,q.yI)("whitespace-nowrap text-xs leading-[13px]",H.Cj.label3),children:["\u53d1\u5e03\u4e8e ",r.ipRegion]}),r.isEdited&&!Ae&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:(0,q.yI)("h-[3px] w-[3px] rounded",H.Cj.fillGray5)}),(0,l.jsx)("span",{className:(0,q.yI)("text-xs leading-[13px]",H.Cj.label3),children:v("edited")}),(0,l.jsx)("span",{className:(0,q.yI)("h-[3px] w-[3px] rounded",H.Cj.fillGray5)})]}),(0,l.jsx)(On.c,{timestamp:r.creationDate,useCalendarIcon:!1,createdAtClassName:(0,q.yI)("justify-end",{"!min-w-fit":!f.Oo&&!!r.ipRegion}),formattedDateClassName:(0,q.yI)(H.Cj.label3,"text-[11px] leading-[13px]")}),f.ob&&p&&[g.$4.Pending,m.af_.Checking].includes(r.status)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:(0,q.yI)("h-[3px] w-[3px] rounded",H.Cj.fillGray5)}),(0,l.jsx)("div",{className:(0,q.yI)(H.Cj.label3,"whitespace-nowrap text-[11px] leading-[13px]"),children:"\u5ba1\u6838\u4e2d"})]})]})]})]}),(0,l.jsxs)("div",{className:(0,q.yI)("mt-2 flex w-full flex-col",H.Cj.label2),children:[(0,l.jsx)("div",{className:(0,q.yI)(Ee),children:(0,l.jsx)(Fn,{content:r.content})}),r.intentionTag&&(0,l.jsx)("div",{className:"mt-2.5",children:(0,l.jsx)(Yn,{type:r.intentionTag})}),(0,l.jsx)("div",{className:"mt-4 flex items-center gap-4",children:(0,l.jsxs)("div",{className:(0,q.yI)("flex items-center gap-4 text-xs",Ee),children:[(0,l.jsx)(Ne,{comment:r,isMyself:p,trackingCommentType:ie.Comment}),(0,l.jsx)(Ie,{onClick:ue,showLabel:Qe,showReplies:x,repliesNum:r.numChildren}),(0,l.jsx)(Se,{showLabel:Qe,onClick:de}),(0,l.jsxs)(A.u,{className:"flex items-center gap-4 text-xs",show:M||Ge,enter:"transition ease-out duration-200",leave:"transition ease-in duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:[(0,l.jsxs)("div",{className:(0,q.yI)("flex items-center gap-4",Ee),children:[(0,l.jsx)(Te,{showLabel:Qe,isOwnPost:r.isOwnPost,onClick:He}),!Pe&&(0,l.jsx)(Re,{showLabel:Qe,commentId:r.id,onShareClick:Me}),Fe?(0,l.jsx)(Ve,{comment:r,updateModal:u,topicId:null!==N&&void 0!==N?N:void 0}):null]}),(0,l.jsx)(ze,{comment:r,updateConfirmModal:u,updateReportModal:c,updateMoveToSolutionsModal:d})]})]})})]})]}),ae&&(0,l.jsxs)("div",{className:"mt-3 flex px-3",children:[(0,l.jsx)(Dn.D,{userAvatar:oe,username:te,imgClassName:(0,q.yI)("mr-2 max-w-[24px] max-h-[24px] min-h-[24px] min-w-[24px] h-6 w-6")}),(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(Bn,{value:xe,onSave:_e,disabled:we,innerRef:y,topicId:N||0,onChange:je,onCancel:ve,variation:ge.Slim})})]}),x&&(0,l.jsx)($n,{parentComment:r,highlightedReplyId:ee,hideReplies:me,updateConfirmModal:u,updateReportModal:c,updateMoveToSolutionsModal:d})]})},et=t(21950),nt=f.Oo?function(){return(0,d.oOM)(v.f6)}:function(){return{}},tt=t(385),ot=t(8290),it=t(98327),rt=function(e){var n=e.visible,t=e.onCancel,o=e.comment,a=(0,_.$G)("comments").t,u=(0,X.NL)(),c=(0,s.useState)(""),d=c[0],m=c[1],v=nt(),f=v.isLoading,p=v.mutateAsync,h=0===d.trim().length||f;(0,s.useEffect)((function(){n&&m("")}),[n]);var x=(0,s.useCallback)((function(e){var n=e.currentTarget.value||"";m(n)}),[m]),C=(0,s.useCallback)((function(){o&&p({commentId:o.id,title:d}).then((function(e){var n,l,s;if(!(null===e||void 0===e||null===(n=e.migrateDiscussionToSolution)||void 0===n?void 0:n.ok))return W.y.error(a("genericError"),{itemClassName:H.Cj.bgLayer3});!function(e){var n=e.commentId,t=e.queryClient,o=e.key;ne({commentId:n,changeComment:function(e){return(0,r.Z)((0,i.Z)({},e),{status:g.$4.Deleted})},queryClient:t,key:o})}({commentId:o.id,key:o.queryKey,queryClient:u});var c,d=Ce.yZ.getState().questionSlug,m=null===(l=e.migrateDiscussionToSolution.topic)||void 0===l?void 0:l.id,v=(0,et.o)(null!==(c=null===(s=e.migrateDiscussionToSolution.topic)||void 0===s?void 0:s.title)&&void 0!==c?c:"topic");d&&m&&v&&window.open(Y.Hb.solutions(d,m,v),"_blank"),W.y.success(a("moveSuccess"),{itemClassName:H.Cj.bgLayer3}),t()}))}),[t,a,p,o,d,u]);return(0,l.jsxs)(ot.u,{visible:n,onCancel:t,closable:!1,maskClosable:!0,className:(0,q.yI)("w-[480px] p-0 text-base",H.Cj.bgLayer2),children:[(0,l.jsxs)("div",{className:(0,q.yI)("flex items-center border-b px-6 py-4 text-lg font-medium",H.Cj.label1,H.Cj.dividerBorder2),children:[a("move"),(0,l.jsx)("button",{onClick:t,className:(0,q.yI)("ml-auto cursor-pointer rounded transition-all",H.Cj.fill3Hover),children:(0,l.jsx)(tt.F,{className:(0,q.yI)("h-6 w-6",H.Cj.labelGrey6)})})]}),(0,l.jsxs)("div",{className:(0,q.yI)("flex flex-col gap-2 px-6 py-4"),children:[(0,l.jsx)("div",{className:(0,q.yI)("text-sm",H.Cj.label2),children:a("moveTitle")}),(0,l.jsx)(it.I,{className:(0,q.yI)("rounded-lg px-3 py-1 text-sm focus:border-transparent",H.Cj.fill4,H.Cj.placeholderLabel4,T.UG),value:d,onChange:x,placeholder:a("moveTitlePlaceholder")})]}),(0,l.jsxs)("div",{className:(0,q.yI)("flex justify-end gap-4 px-6 py-4 text-sm"),children:[(0,l.jsx)(xn.z,{onClick:t,className:"rounded-lg px-4 py-1.5",children:a("cancel")}),(0,l.jsx)(xn.z,{variant:"primary",disabled:h,loading:f,onClick:C,className:"rounded-lg px-4 py-1.5",children:a("confirm")})]})]})},at=t(45215),lt=function(e){var n,t,o,r=e.comments,a=e.isFetching,u=e.commentsCountToLoad,c=(0,_.$G)("comments").t,d=(0,M.t)({className:"z-modal",cancelBtnCls:"py-1.5",confirmBtnCls:"py-1.5"}),m=d.modal,v=d.update,p=(0,B.Z)(E(),2),h=p[0],x=p[1],C=(0,s.useCallback)((function(){return x({visible:!1,comment:void 0})}),[x]),g=(0,B.Z)(E(),2),y=g[0],j=g[1],b=(0,s.useCallback)((function(){return j({visible:!1,comment:void 0})}),[j]),N=null!==(o=null===r||void 0===r?void 0:r.map((function(e){return e.username})))&&void 0!==o?o:[],w=(0,D.E)(N).data,I=(0,s.useMemo)((function(){return f.Oo?r:null===r||void 0===r?void 0:r.map((function(e){var n,t,o=null!==(t=null===(n=e.userSlug)||void 0===n?void 0:n.toLowerCase())&&void 0!==t?t:"",r=null===w||void 0===w?void 0:w[o];return(0,i.Z)({},e,r)}))}),[r,w]);return a?(0,l.jsx)(Un,{itemsCount:u}):I&&I.length>0?(0,l.jsxs)("div",{children:[I.map((function(e){return(0,l.jsx)(Jn,{comment:e,updateConfirmModal:v,updateReportModal:x,updateMoveToSolutionsModal:j},e.id)})),m,(0,l.jsx)(at.y,{visible:h.visible,postId:(null===(n=h.comment)||void 0===n?void 0:n.postId)||0,commentId:null===(t=h.comment)||void 0===t?void 0:t.id,onCancel:C}),(0,l.jsx)(rt,{onCancel:b,visible:y.visible,comment:y.comment})]}):(0,l.jsx)("div",{className:(0,q.yI)("w-full p-5 text-center",H.Cj.label4),children:c("noComments")})},st=t(94713),ut=function(e){var n=e.className,t=e.sortBy,o=e.setSortBy,i=(0,_.$G)("comments").t,r=(0,s.useMemo)((function(){return(0,c.Z)([{value:u.f.Best,text:i("best")},f.Oo&&{value:u.f.MostVotes,text:i("mostVotes")},{value:u.f.NewestToOldest,text:i("newestToOldest")},{value:u.f.OldestToNewest,text:i("oldestToNewest")}])}),[i]),a=r.find((function(e){return e.value===t}));return(0,l.jsx)("div",{className:"flex items-center space-x-2",children:(0,l.jsx)(Cn.L,{selected:null===a||void 0===a?void 0:a.value,icon:(0,l.jsx)(jn.h,{}),btnClassName:(0,q.yI)("p-0 bg-transparent dark:bg-transparent hover:bg-transparent dark:hover:bg-transparent active:bg-transparent dark:active:bg-transparent",H.Cj.label2),itemsClassName:n,itemClassName:(0,q.yI)("font-normal",H.Cj.label2),itemSelectedClassName:(0,q.yI)("font-medium",H.Cj.label1),setSelected:function(e){e&&o(e)},items:r,btnText:(0,l.jsxs)("div",{className:(0,q.yI)("text-xs",H.Cj.label2),children:[(0,l.jsxs)("span",{className:"mr-2",children:[i("sortBy"),":"]}),(0,l.jsx)("span",{className:(0,q.yI)(H.Cj.label1,"font-medium"),children:null===a||void 0===a?void 0:a.text})]})})})},ct=function(e){var n=e.total,t=e.sortBy,o=e.setSortBy,i=(0,_.$G)("comments").t;return(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{children:(0,l.jsx)(st.h,{className:(0,q.yI)("h-6 w-6",H.Cj.labelGrey6)})}),(0,l.jsxs)("div",{className:(0,q.yI)("flex-1 text-base font-medium",H.Cj.label1),children:[i("comments")," (",(0,le.ZP)(n),")"]}),(0,l.jsx)("div",{children:(0,l.jsx)(ut,{sortBy:t,setSortBy:o,className:"right-0"})})]})},dt=t(92534),mt=t(4999),vt=t(54340);!function(e){e.Discussion="discussion",e.OfficialSolution="officialSolution"}(sn||(sn={}));var ft=function(e){var n=e.title,t=e.onClose,o=e.children,i=e.className;return(0,l.jsx)("div",{className:(0,q.yI)("w-full rounded-[13px] border p-4",H.Cj.fill4,H.Cj.divider4,i),children:(0,l.jsxs)("div",{className:"flex w-full flex-col items-start gap-3",children:[(0,l.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,l.jsx)("div",{className:(0,q.yI)("font-medium",H.Cj.label1),children:n}),(0,l.jsx)("div",{className:"cursor-pointer",onClick:t,children:(0,l.jsx)(tt.F,{className:(0,q.yI)("h-4 w-4",H.Cj.labelGrey6,H.Cj.labelGrey7Hover)})})]}),(0,l.jsx)("div",{className:(0,q.yI)("flex w-full flex-col items-start gap-4 text-xs",H.Cj.label2),children:o})]})})},pt=function(e){var n=(0,B.Z)((0,dt._)("".concat(e,"CommentingRulesExpiration"),void 0),2),t=n[0],o=n[1],i=(0,s.useCallback)((function(){var e=(0,mt.B)().add(7,"d").valueOf();o(e)}),[o]);return{isExpired:!!(!t||!(0,mt.B)(Number(t)).isValid())||(0,mt.B)(t).isBefore((0,mt.B)()),setToExpire:i}},ht=f.Oo?function(e){var n=e.discussionType,t=e.className,o=pt(n),i=o.isExpired,r=o.setToExpire,a=function(e){var n,t=(0,q.yI)("text-xs font-medium",H.Cj.labelBlueStandard);return(n={},(0,O.Z)(n,sn.OfficialSolution,{title:"\ud83d\udca1 Article Commenting Rules",content:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{children:["1. This comment section is for questions and comments regarding this ",(0,l.jsx)("b",{children:"LeetCode article"}),". All posts must respect our"," ",(0,l.jsx)(vt.r,{className:t,href:Y.Hb.communityRules(),isExternal:!0,children:"LeetCode Community Rules"}),"."]}),(0,l.jsxs)("p",{children:["2. Concerns about errors or bugs in the article, problem description, or test cases should be posted on"," ",(0,l.jsx)(vt.r,{className:t,href:Y.Hb.feedback(),isExternal:!0,children:"LeetCode Feedback"}),", so that our team can address them."]})]})}),(0,O.Z)(n,sn.Discussion,{title:"\ud83d\udca1 Discussion Rules",content:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{children:["1. Please don't post ",(0,l.jsx)("b",{children:"any solutions"})," in this discussion."]}),(0,l.jsx)("p",{children:"2. The problem discussion is for asking questions about the problem or for sharing tips - anything except for solutions."}),(0,l.jsx)("p",{children:"3. If you'd like to share your solution for feedback and ideas, please head to the solutions tab and post it there."})]})}),n)[e]}(n),u=(0,s.useState)(!1),c=u[0],d=u[1];return(0,s.useEffect)((function(){return d(i)}),[i]),c?(0,l.jsx)(ft,{title:a.title,onClose:r,className:t,children:a.content}):null}:function(e){var n=e.discussionType,t=e.className,o=pt(n),i=o.isExpired,r=o.setToExpire,a=(0,s.useState)(!1),u=a[0],c=a[1];return(0,s.useEffect)((function(){return c(i)}),[i]),u?n===sn.OfficialSolution?null:(0,l.jsxs)(ft,{title:"\ud83d\udca1 \u8ba8\u8bba\u533a\u89c4\u5219",onClose:r,className:t,children:[(0,l.jsx)("p",{children:"1. \u8bf7\u4e0d\u8981\u5728\u8bc4\u8bba\u533a\u53d1\u8868\u9898\u89e3\uff01"}),(0,l.jsx)("p",{children:"2. \u8bc4\u8bba\u533a\u53ef\u4ee5\u53d1\u8868\u5173\u4e8e\u5bf9\u7ffb\u8bd1\u7684\u5efa\u8bae\u3001\u5bf9\u9898\u76ee\u7684\u7591\u95ee\u53ca\u5176\u5ef6\u4f38\u8ba8\u8bba\u3002"}),(0,l.jsx)("p",{children:"3. \u5982\u679c\u4f60\u9700\u8981\u6574\u7406\u9898\u89e3\u601d\u8def\uff0c\u83b7\u5f97\u53cd\u9988\u4ece\u800c\u8fdb\u9636\u63d0\u5347\uff0c\u53ef\u4ee5\u53bb\u9898\u89e3\u533a\u8fdb\u884c\u3002"})]}):null},xt=function(e){var n,t,c=e.topicId,d=e.commentCount,m=e.commentId,v=e.layoutType,p=e.hideComments,h=(0,s.useRef)(null),x=(0,Ce.wG)((function(e){return e.topicId})),C=(0,Ce.wG)((function(e){return e.setTopicId})),g=(0,Ce.wG)((function(e){return e.isModerator})),y=(0,Ce.wG)((function(e){return e.setIsModerator})),j=(0,Ce.wG)((function(e){return e.highlightedCommentId})),N=(0,Ce.wG)((function(e){return e.setHighlightedCommentId})),w=(0,Ce.wG)((function(e){return e.parentOfHighlightedCommentId})),B=(0,Ce.wG)((function(e){return e.setParentOfHighlightedCommentId})),_=(0,Ce.wG)((function(e){return e.content})),M=(0,Ce.wG)((function(e){return e.intentionTag})),H=(0,Ce.yZ)((function(e){return e.questionSlug})),D=(0,Ce.wG)((function(e){return e.setLayoutType}));(0,s.useEffect)((function(){return D(v)}),[D,v]);var E=null===(n=(0,S.U)())||void 0===n||null===(t=n.data)||void 0===t?void 0:t.userStatus,O=[Boolean(null===E||void 0===E?void 0:E.isPremium),Boolean(null===E||void 0===E?void 0:E.isAdmin)][1],A=(0,s.useState)(u.f.Best),G=A[0],P=A[1],z=(0,s.useCallback)((function(e){H&&R.d.qdSortCommentClick({qd_version:T.AQ,qd_question_slug:H,qd_sort_type:e,qd_comment_pos:v}),P(e)}),[H,v]),Q=(0,s.useState)(1),U=Q[0],$=Q[1],F={topicId:c,orderBy:G,pageNo:U,numPerPage:10},V=b(F),K=v===Ce.Dk.Description,W=v===Ce.Dk.Discuss||K,Y=(0,Ce.yZ)((function(e){return e.containerWidth})),X="number"===typeof Y&&Y<Xn,J=nn({queryKey:V,initialContent:W?_:void 0,initialIntentionTag:W?M:void 0,saveDraft:W,setPageNo:$}),ee=J.value,ne=J.onSave,te=J.onCommentChange,oe=J.isSaving,re=J.intentionTag,ae=J.onIntentionTagChange,le=Boolean(c&&!p),se=I((0,r.Z)((0,i.Z)({},F),{isDiscuss:W}),{enabled:le}),ue=se.data,ce=se.isFetching,de=k({commentId:m,orderBy:G,topicId:c},{enabled:Boolean(m&&le)}).data,me=(0,Ce.wG)((function(e){return e.commentsTopAnchor})),ve=(0,Ce.wG)((function(e){return e.setCommentsTopAnchor})),fe=(0,s.useState)(!1),pe=fe[0],he=fe[1];(0,s.useEffect)((function(){pe&&me&&(requestAnimationFrame((function(){return me.scrollIntoView({behavior:"smooth"})})),he(!1))}),[ue,me]);var xe=ue?Math.min(ue.total-10*(U-1),10):10,ye=(0,s.useCallback)((function(e){he(!0),$(e)}),[]);(0,s.useEffect)((function(){x!==c&&C(c),g!==O&&y(O),j!==m&&N(m),w!==m&&B(m),w!==(null===de||void 0===de?void 0:de.parentCommentId)&&B(null===de||void 0===de?void 0:de.parentCommentId)}),[c,x,O,g,de]),(0,s.useEffect)((function(){de&&$(de.pageNo)}),[de]);var je=(null===ue||void 0===ue?void 0:ue.total)||0,Ne=f.ob&&null!==d&&void 0!==d?d:je,we=(0,L.z)((0,o.Z)((function(){return(0,a.__generator)(this,(function(e){return[2,ne().then((function(e){var n=e.ok;return n&&H&&R.d.qdSubmitCommentClick({qd_version:T.AQ,qd_question_slug:H,qd_comment_pos:be(v),qd_comment_type:ie.Comment}),{ok:n}}))]}))})));return(0,l.jsxs)("div",{className:"flex h-full flex-col",children:[!W&&(0,l.jsx)("div",{className:"mx-5",children:(0,l.jsx)(ct,{total:Ne,sortBy:G,setSortBy:z})}),(0,l.jsx)("div",{className:(0,q.yI)({"mx-5":!K},"mt-3"),children:(0,l.jsx)(Bn,{value:ee,disabled:oe,onSave:we,topicId:c,innerRef:h,onChange:te,variation:ge.Full,intentionTag:re,onIntentionTagChange:ae})}),W&&(0,l.jsxs)("div",{className:(0,q.yI)({"mx-5":!K},"mt-3"),children:[(0,l.jsx)(ht,{discussionType:sn.Discussion,className:"mb-3"}),(0,l.jsx)("div",{className:"pt-3",children:(0,l.jsx)(ut,{sortBy:G,setSortBy:z,className:"left-0"})})]}),v===Ce.Dk.OfficialSolution&&(0,l.jsx)("div",{className:"mx-5 mt-3",children:(0,l.jsx)(ht,{discussionType:sn.OfficialSolution})}),(0,l.jsx)("div",{className:"w-full",ref:ve}),(0,l.jsx)("div",{className:"mt-4 flex-1",children:(0,l.jsx)(lt,{comments:null===ue||void 0===ue?void 0:ue.comments,commentsCountToLoad:xe,isFetching:ce})}),je>0&&(0,l.jsx)("div",{className:(0,q.yI)("mx-5 mt-7 mb-4 flex justify-center pb-4"),children:(0,l.jsx)(Z.Z,{disabled:ce||oe,currentPage:U,totalItems:je,maxPageItems:X?U<99?6:5:void 0,itemsPerPage:10,onChange:ye,pageItemClassName:"text-sm",chevronClassName:"w-4 h-4",arrowButtonClassName:"px-2"})})]})}},37906:function(e,n,t){"use strict";t.d(n,{Dk:function(){return u},wG:function(){return d},yU:function(){return m},yZ:function(){return c}});var o,i=t(26042),r=t(69396),a=t(69441),l=t(73445),s=t(782);!function(e){e.UpdateState="UpdateState"}(o||(o={}));var u,c=(0,l.Ue)((0,s.$e)({questionSlug:void 0,commentId:void 0,containerWidth:0},(function(e){return{setQuestionSlug:function(n){return e((function(e){return(0,r.Z)((0,i.Z)({},e),{questionSlug:n})}))},setCommentId:function(n){return e((function(e){return(0,r.Z)((0,i.Z)({},e),{commentId:n})}))},setContainerWidth:function(n){return e((function(e){return(0,r.Z)((0,i.Z)({},e),{containerWidth:n})}))}}})));!function(e){e.Discuss="Discuss",e.Solution="Solution",e.OfficialSolution="OfficialSolution",e.Description="Description"}(u||(u={}));var d=(0,l.Ue)((0,s.$e)({topicId:null,isModerator:!1,highlightedCommentId:void 0,parentOfHighlightedCommentId:void 0,layoutType:u.Discuss,commentsTopAnchor:null,tagNamesMap:new Map,content:"",intentionTag:void 0},(function(e){return{setTopicId:function(n){return e((function(e){return(0,r.Z)((0,i.Z)({},e),{topicId:n})}))},setIsModerator:function(n){return e((function(e){return(0,r.Z)((0,i.Z)({},e),{isModerator:n})}))},setHighlightedCommentId:function(n){return e((function(e){return(0,r.Z)((0,i.Z)({},e),{highlightedCommentId:n})}))},setParentOfHighlightedCommentId:function(n){return e((function(e){return(0,r.Z)((0,i.Z)({},e),{parentOfHighlightedCommentId:n})}))},setLayoutType:function(n){return e((function(e){return(0,r.Z)((0,i.Z)({},e),{layoutType:n})}))},setCommentsTopAnchor:function(n){return e((function(e){return(0,r.Z)((0,i.Z)({},e),{commentsTopAnchor:n})}))},resetState:function(){return e((function(e){return(0,r.Z)((0,i.Z)({},e),{topicId:null,highlightedCommentId:void 0,parentOfHighlightedCommentId:void 0})}))},setIntentionTags:function(n){return e((function(e){return(0,r.Z)((0,i.Z)({},e),{tagNamesMap:new Map(n.map((function(e){return[e.slug,e.name]})))})}))},setContent:function(n){return e((function(e){return(0,r.Z)((0,i.Z)({},e),{content:n})}))},setIntentionTag:function(n){return e((function(e){return(0,r.Z)((0,i.Z)({},e),{intentionTag:n})}))}}}))),m=function(){return d((function(e){return(0,a.Z)(e,["commentsTopAnchor"])}))}},11567:function(e,n,t){"use strict";t.d(n,{D:function(){return m}});var o=t(85893),i=t(51797),r=t(84004),a=t(46922),l=t(7649),s=t(45404),u=t(83757),c=t(54340),d=t(29297),m=function(e){var n=e.userAvatar,t=e.username,m=e.imgClassName,v=e.dontTriggerParentClickEvent,f=e.clickable,p=void 0===f||f,h=(0,o.jsx)(s.q,{src:n,alt:"",className:"h-full w-full rounded-full"}),x=(0,i.yI)("h-8 min-h-[32px] w-8 min-w-[32px]",m),C=(0,u.v)((function(e){return e.questionSlug})),g=(0,r.z)((function(e){d.d.qdEnterAuthorProfileClick({qd_version:a.AQ,qd_question_slug:C,qd_post_article_author:t}),v&&e.stopPropagation()}));return p?(0,o.jsx)(c.r,{className:x,href:l.Hb.profile(t),onClick:g,isExternal:!0,children:h}):(0,o.jsx)("div",{className:x,children:h})}},4401:function(e,n,t){"use strict";t.d(n,{S:function(){return p}});var o=t(85893),i=t(12966),r=t(51797),a=t(84004),l=t(46922),s=t(7649),u=t(75117),c=t(83757),d=t(54340),m=t(89328),v=t(22177),f=t(29297),p=function(e){var n=e.realName,t=e.username,p=e.badgeIcon,h=e.badgeName,x=e.isLink,C=void 0===x||x,g=e.badgeClassName,y=e.userClassName,j=e.reputation,b=e.dontTriggerParentClickEvent,N=(0,r.yI)(v.Cj.label2,"text-xs font-medium overflow-hidden max-w-[100px] md:max-w-[200px] text-ellipsis",y),w=(0,c.v)((function(e){return e.questionSlug})),I=(0,a.z)((function(e){f.d.qdEnterAuthorProfileClick({qd_version:l.AQ,qd_question_slug:w,qd_post_article_author:t}),b&&e.stopPropagation()}));return(0,o.jsxs)("div",{className:"flex items-center gap-1 truncate",translate:"no",children:[C?(0,o.jsx)(d.r,{onClick:I,href:s.Hb.profile(t),className:(0,r.yI)(N,v.M$.labelBlueS,"truncate"),isExternal:!0,children:n||t}):(0,o.jsx)("div",{className:N,children:t}),p&&h&&(0,o.jsx)(i.ua7,{label:h,hasArrow:!1,children:(0,o.jsx)("div",{className:(0,r.yI)("h-3 w-3",g),children:(0,o.jsx)("img",{src:p,alt:h,className:"h-full w-full"})})}),u.ob&&!!j&&(0,o.jsx)(m.P,{level:j})]})}},15197:function(e,n,t){"use strict";t.d(n,{c:function(){return s}});var o=t(85893),i=t(51797),r=t(58292),a=t(46283),l=t(22177),s=function(e){var n=e.timestamp,t=e.useCalendarIcon,s=void 0===t||t,u=e.createdAtClassName,c=e.formattedDateClassName,d=e.iconClassName,m=n<1e10?1e3*n:n;return(0,o.jsxs)("div",{className:(0,i.yI)("flex items-center gap-1.5",u),children:[s&&(0,o.jsx)(a.j,{className:(0,i.yI)(l.Cj.labelGrey5,"h-4 w-4",d)}),(0,o.jsx)("div",{className:(0,i.yI)(l.Cj.label3,"min-w-max text-xs",c),children:(0,o.jsx)(r.J,{datetime:m})})]})}},20152:function(e,n,t){"use strict";t.d(n,{E:function(){return a}});var o=t(85893),i=t(51797),r=t(22177),a=function(e){var n=e.className,t=e.onClick,a=e.icon,l=e.iconClassName,s=e.label,u=e.labelClassName,c=e.onIconClick,d=e.disabled,m=void 0!==s,v=void 0!==a;return(0,o.jsxs)("div",{className:(0,i.yI)("flex items-center gap-1",n),onClick:t,children:[v&&(0,o.jsx)(a,{onClick:d?void 0:c,className:(0,i.yI)("h-4 w-4",{"pointer-events-none":d},l)}),m&&(0,o.jsx)("div",{className:(0,i.yI)(r.Cj.label2,"text-xs",u),children:s})]})}},26440:function(e,n,t){"use strict";t.d(n,{T:function(){return m},l:function(){return v}});var o=t(85893),i=t(72510),r=t(11355),a=t(67294),l=t(51797),s=t(50632),u=t(64572),c=t(16142),d=t(22177),m=function(e){var n=e.onClick,t=e.className,r=e.children;return(0,o.jsx)(i.v.Item,{as:"div",onClick:n,className:(0,l.yI)("w-full cursor-pointer select-none rounded py-[5px] px-3 text-md",d.Cj.label2,d.Cj.label1Hover,d.Cj.fill3Hover,t),children:r})},v=function(e){var n,t=e.children,m=e.btnClassName,v=e.iconClassName,f=e.placement,p=void 0===f?"top":f,h=null===(n=(0,s.U)().data)||void 0===n?void 0:n.userStatus,x=Boolean(null===h||void 0===h?void 0:h.isAdmin)?u.k:c.q;return(0,o.jsxs)(i.v,{as:"div",className:"relative",children:[(0,o.jsx)("div",{children:(0,o.jsx)(i.v.Button,{className:(0,l.yI)(d.Cj.label1Hover,"flex h-6 w-6 cursor-pointer items-center justify-center rounded-md",m),children:(0,o.jsx)(x,{className:(0,l.yI)(d.Cj.labelGrey6,d.Cj.labelGrey7Hover,"h-5 w-5",v)})})}),(0,o.jsx)(r.u,{as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,o.jsx)(i.v.Items,{style:{zIndex:100},className:(0,l.yI)(d.Cj.bgLayer3,d.Cj.divider4,d.eq.card,"border-1 absolute right-0 min-w-[200px] rounded-lg p-2 outline-none",{"top-8":"bottom"===p,"bottom-8":"top"===p}),children:(0,o.jsx)("div",{children:t})})})]})}},45215:function(e,n,t){"use strict";t.d(n,{y:function(){return M},a:function(){return H}});var o=t(14924),i=t(10253),r=t(85893),a=t(67294),l=t(73935),s=t(65451),u=t(11321),c=t(51797),d=t(7649),m=t(8290),v=t(54340),f=t(73986),p=t(25398),h=t(66360),x=t(385),C=t(22177),g=t(48713),y=t(47568),j=t(70655),b=t(88525),N=t(23874),w=t(56235),I=t(75117),k=new Map([[N.ZLU.Advertising,"1"],[N.ZLU.Sexual,"2"],[N.ZLU.Violent,"3"],[N.ZLU.Terrorism,"4"],[N.ZLU.Politics,"5"],[N.ZLU.Fake,"6"],[N.ZLU.Illegal,"7"],[N.ZLU.Other,void 0]]),S=I.Oo?function(){var e=(0,b.umC)(w.f6),n=e.mutateAsync,t=e.isLoading;return{mutateAsync:(0,a.useCallback)((function(e){return n(e).then((function(e){return e.flagPost}))}),[n]),isLoading:t}}:function(){var e=(0,N.gu3)(w.f6),n=e.mutateAsync,t=e.isLoading,o=(0,a.useCallback)(function(){var e=(0,y.Z)((function(e){var t,o,i,r;return(0,j.__generator)(this,(function(a){return t=e.postId,o=e.flagType,i=e.content,r=e.articleId,[2,n({data:{resourceId:r||String(t),reasonId:k.get(o),resourceType:r?N.H0r.Article:N.H0r.Comment,description:i}}).then((function(e){return e.flagSomething}))]}))}));return function(n){return e.apply(this,arguments)}}(),[n]);return{isLoading:t,mutateAsync:o}},Z=t(52653),T=t(59421),L=t(71290),q=t(84945),R=t(55964),B=t(35886),_=I.Oo?function(e){var n=e.value,t=e.label;return(0,r.jsx)(s.E.Option,{value:n,as:a.Fragment,children:function(e){var n=e.checked;return(0,r.jsx)("div",{className:(0,c.yI)("flex w-full cursor-pointer flex-col py-2",C.Cj.label2,C.Cj.label1Hover),children:(0,r.jsxs)("div",{className:(0,c.yI)("flex items-center justify-between"),children:[(0,r.jsx)("span",{children:t}),n&&(0,r.jsx)(h.N,{className:(0,c.yI)("h-4 w-4",C.Cj.labelGrey6)})]})})}})}:function(e){var n=e.value,t=e.label;return(0,r.jsx)(s.E.Option,{value:n,as:a.Fragment,children:function(e){var n,i=e.checked;return(0,r.jsx)("div",{className:(0,c.yI)("flex cursor-pointer flex-col rounded-lg p-2",(n={},(0,o.Z)(n,C.Cj.label2,!i),(0,o.Z)(n,C.Cj.labelBlueStandard,i),(0,o.Z)(n,C.Cj.fill4,!i),(0,o.Z)(n,C.Cj.bgBlue0,i),n)),children:(0,r.jsx)("div",{className:(0,c.yI)("flex items-center justify-between",{"":i}),children:(0,r.jsx)("span",{children:t})})})}})},M=function(e){var n=e.visible,t=e.onCancel,d=e.postId,h=e.commentId,y=e.articleId,j=(0,u.$G)("solutions",{keyPrefix:"report"}).t,b=(0,a.useState)(null),N=b[0],w=b[1],k=(0,a.useState)(""),T=k[0],L=k[1],B=S(),M=B.mutateAsync,H=B.isLoading,D=null===N||N===Z.ZL.Other&&0===T.trim().length,E=I.Oo?[[Z.ZL.Advertising,j("advertising")],[Z.ZL.Sexual,j("sexual")],[Z.ZL.Violent,j("violent")],[Z.ZL.Terrorism,j("terrorism")],[Z.ZL.Illegal,j("illegal")],[Z.ZL.Abuse,j("abuse")],[Z.ZL.NonEnglish,j("nonEnglish")],[Z.ZL.Other,j("other")]]:[[Z.ZL.Advertising,j("advertising")],[Z.ZL.Sexual,j("sexual")],[Z.ZL.Violent,j("violent")],[Z.ZL.Terrorism,j("terrorism")],[Z.ZL.Politics,j("politics")],[Z.ZL.Fake,j("fake")],[Z.ZL.Illegal,j("illegal")],[Z.ZL.Other,j("other")]];(0,a.useEffect)((function(){n&&(L(""),w(null))}),[n]);var O=(0,a.useCallback)((function(){var e=N===Z.ZL.Other?T:"";M({postId:I.Oo?d:h||0,flagType:N,content:e,articleId:y}).then((function(e){(null===e||void 0===e?void 0:e.ok)?(q.y.success(j("reportSuccess"),{itemClassName:C.Cj.bgLayer3}),t()):q.y.error(j("reportError"),{itemClassName:C.Cj.bgLayer3})}))}),[N,T,M,d,h,j,t,y]);return(0,l.createPortal)((0,r.jsxs)(m.u,{visible:n,onCancel:t,closable:!1,maskClosable:!0,className:(0,c.yI)("w-[480px] p-0 text-base",C.Cj.bgLayer2),children:[(0,r.jsxs)("div",{className:(0,c.yI)("flex items-center px-6 py-4 text-lg font-medium",C.Cj.label1,(0,o.Z)({},(0,c.yI)(C.Cj.dividerBorder2,"border-b"),I.Oo)),children:[j("reportModalTitle"),(0,r.jsx)("button",{onClick:t,className:(0,c.yI)("ml-auto cursor-pointer rounded transition-all",C.Cj.fill3Hover),children:(0,r.jsx)(x.F,{className:(0,c.yI)("h-6 w-6",C.Cj.labelGrey6)})})]}),(0,r.jsxs)("div",{className:(0,c.yI)("px-6 py-2 text-xs"),children:[(0,r.jsx)(s.E,{value:N,onChange:w,className:(0,c.yI)("flex flex-wrap",{"flex-col":I.Oo,"gap-4":!I.Oo}),children:E.map((function(e){var n=(0,i.Z)(e,2),t=n[0],o=n[1];return(0,r.jsx)(_,{value:t,label:o},t)}))}),N===Z.ZL.Other&&(0,r.jsx)(g.g,{className:(0,c.yI)("h-[90px] rounded-lg px-3 py-2 text-sm focus:border-transparent",C.Cj.fill4,C.Cj.placeholderLabel4,C.Cj.label1,{"mt-4":!I.Oo}),placeholder:j("contentPlaceholder"),value:T,onChange:L,autoSize:!0})]}),!I.Oo&&(0,r.jsx)("div",{className:(0,c.yI)(C.Cj.dividerBorder2,"mt-4 border-t px-6 py-4"),children:(0,r.jsxs)(v.r,{href:"".concat(R.jY,"/complaint-guidelines"),isExternal:!0,className:(0,c.yI)(C.Cj.fill4,C.Cj.label2,"flex cursor-pointer items-center rounded-lg py-1 px-3"),children:[(0,r.jsx)(f.y,{src:"/_next/static/images/complaint-56e08a401042a9e8aa3bcc60a686bb4d.svg",alt:"",className:"h-6"}),(0,r.jsx)("span",{className:"ml-3 text-sm",children:"\u4fb5\u6743\u6295\u8bc9"})]})}),(0,r.jsxs)("div",{className:(0,c.yI)("flex justify-end gap-4 p-4 text-sm"),children:[(0,r.jsx)(p.z,{onClick:t,className:"rounded-lg px-4 py-1.5",children:j("cancel")}),(0,r.jsx)(p.z,{variant:"primary",disabled:D,loading:H,onClick:O,className:"rounded-lg px-4 py-1.5",children:j("confirm")})]})]}),document.querySelector("#modal-root"))},H=function(e){var n,t=e.visible,u=e.onCancel,f=e.isOfficial,h=e.solutionTitle,y=e.slug,j=(0,a.useState)(""),b=j[0],I=j[1],k=(0,B.cm)((function(e){return e.questionSlug})),S=(0,T.K)(k).data,Z=(0,L.z)(k).data,R=(0,N.x3Q)(w.f6),M=R.mutateAsync,H=R.isLoading,D=(0,N.r0Q)(w.f6),E=D.mutateAsync,O=D.isLoading,A=[[N.$pM.HardToUnderstand,"\u96be\u4ee5\u7406\u89e3"],[N.$pM.ImproperSolution,"\u66b4\u529b\u6216\u975e\u6b63\u5f53\u89e3\u6cd5"],[N.$pM.NonSolution,"\u975e\u9898\u89e3\u5185\u5bb9"],[N.$pM.Other,"\u5176\u4ed6"]],G=(0,a.useState)(N.$pM.HardToUnderstand),P=G[0],z=G[1],Q=0===b.trim().length,U=(0,a.useCallback)((function(){f?E({detail:b,slug:y}).then((function(){q.y.success("\u8c22\u8c22\u60a8\u7684\u53cd\u9988\uff01",{itemClassName:C.Cj.bgLayer3}),u()})):M({data:{detail:b,reason:P,solutionSlug:y}}).then((function(){q.y.success("\u8c22\u8c22\u60a8\u7684\u53cd\u9988\uff01",{itemClassName:C.Cj.bgLayer3}),u()}))}),[b,f,u,P,y,E,M]);return(0,l.createPortal)((0,r.jsxs)(m.u,{visible:t,onCancel:u,closable:!1,maskClosable:!0,className:(0,c.yI)("w-[480px] p-0 text-base",C.Cj.bgLayer2),children:[(0,r.jsxs)("div",{className:(0,c.yI)("flex items-center px-6 py-4 text-lg font-medium",C.Cj.label1,(0,o.Z)({},(0,c.yI)(C.Cj.dividerBorder2,"border-b"),!0)),children:["\u8bf7\u586b\u5199\u53cd\u9988\u5185\u5bb9",(0,r.jsx)("button",{onClick:u,className:(0,c.yI)("ml-auto cursor-pointer rounded transition-all",C.Cj.fill3Hover),children:(0,r.jsx)(x.F,{className:(0,c.yI)("h-6 w-6",C.Cj.labelGrey6)})})]}),(0,r.jsxs)("div",{className:(0,c.yI)("px-6 py-4 text-sm"),children:[f?(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("span",{className:(0,c.yI)(C.Cj.label3,"w-[100px] flex-shrink-0 text-right"),children:"\u9898\u76ee:"}),(0,r.jsx)("span",{className:(0,c.yI)(C.Cj.label1,"grow truncate"),children:null!==(n=null===Z||void 0===Z?void 0:Z.translatedTitle)&&void 0!==n?n:null===S||void 0===S?void 0:S.title})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("span",{className:(0,c.yI)(C.Cj.label3,"w-[100px] flex-shrink-0 text-right"),children:"\u9898\u89e3\u6807\u9898:"}),(0,r.jsx)("span",{className:(0,c.yI)(C.Cj.label1,"grow truncate"),children:h})]}),(0,r.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,r.jsx)("span",{className:(0,c.yI)(C.Cj.label3,"w-[100px] flex-shrink-0 text-right leading-8"),children:"\u53cd\u9988\u539f\u56e0:"}),(0,r.jsx)("div",{className:"flex grow flex-wrap",children:(0,r.jsx)(s.E,{value:P,onChange:z,className:(0,c.yI)("flex flex-wrap gap-4"),children:A.map((function(e){var n=(0,i.Z)(e,2),t=n[0],o=n[1];return(0,r.jsx)(_,{value:t,label:o},t)}))})})]})]}),(0,r.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,r.jsxs)("span",{className:(0,c.yI)(C.Cj.label3,"w-[100px] flex-shrink-0 text-right"),children:[(0,r.jsx)("span",{className:(0,c.yI)(C.Cj.labelRedStandard),children:"* "}),"\u53cd\u9988\u5185\u5bb9:"]}),(0,r.jsx)("div",{className:"grow truncate",children:(0,r.jsx)(g.g,{className:(0,c.yI)("h-[90px] rounded-lg px-3 py-2 text-sm focus:border-transparent",C.Cj.fill4,C.Cj.placeholderLabel4),value:b,onChange:I,autoSize:!0})})]}),f&&(0,r.jsxs)("div",{className:(0,c.yI)(C.Cj.label2,"mt-4 pl-10 text-xs"),children:["\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7"," ",(0,r.jsx)(v.r,{className:(0,c.yI)(C.Cj.labelBlueStandard,"cursor-pointer"),isExternal:!0,href:d.Hb.feedback(),children:"Github \u5feb\u901f\u53cd\u9988\u901a\u9053"})," ","\u8fdb\u884c\u63d0\u4ea4"]})]}),(0,r.jsxs)("div",{className:(0,c.yI)("flex justify-end gap-4 p-4 text-sm"),children:[(0,r.jsx)(p.z,{onClick:u,className:"rounded-lg px-4 py-1.5",children:"\u53d6\u6d88"}),(0,r.jsx)(p.z,{variant:"primary",disabled:Q,loading:H||O,onClick:U,className:"rounded-lg px-4 py-1.5",children:"\u786e\u8ba4"})]})]}),document.querySelector("#modal-root"))}},56700:function(e,n,t){"use strict";var o;t.d(n,{Ap:function(){return o}}),function(e){e.UpdateFilters="UpdateFilters",e.Navigate="Navigate",e.Editor="Editor"}(o||(o={}))},35886:function(e,n,t){"use strict";t.d(n,{UY:function(){return p},aq:function(){return f},cm:function(){return v}});var o=t(26042),i=t(69396),r=t(32180),a=t(69441),l=t(73445),s=t(782),u=t(76248),c=t(35319),d=t(56700),m={questionSlug:"",topicId:void 0,topicTitleSlug:void 0,commentId:void 0},v=(0,l.Ue)((0,s.XR)((0,s.$e)(m,(function(e){return{setQuestionSlug:function(n){return e((function(e){return(0,i.Z)((0,o.Z)({},e),{questionSlug:n})}))},updateTopic:function(n){return e((function(e){return(0,u.X)(e,n)?e:(0,o.Z)({},e,n)}))},resetTopic:function(){return e((function(e){return(0,i.Z)((0,o.Z)({},e),{topicId:void 0,topicTitleSlug:void 0,commentId:void 0})}))}}})))),f=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2?arguments[2]:void 0;if(n)return c.T.emit(d.Ap.Navigate,(0,r.Z)(m,"questionSlug"));var i=(0,a.Z)(v.getState(),["topicId","topicTitleSlug","commentId"]);c.T.emit(d.Ap.Navigate,(0,o.Z)({},i,e),{isExternal:t})},p=function(e,n){e.questionSlug&&c.T.emit(d.Ap.Editor,e,{isExternal:n})}},34663:function(e,n,t){"use strict";t.d(n,{P:function(){return m}});var o=t(14924),i=t(26042),r=t(69396),a=t(99534),l=t(85893),s=t(67294),u=t(51797),c=t(36806),d=t(14802),m=(0,s.forwardRef)((function(e,n){var t=e.disabled,s=e.className,m=e.icon,v=e.iconClassName,f=e.isOpen,p=e.children,h=(0,a.Z)(e,["disabled","className","icon","iconClassName","isOpen","children"]);return(0,l.jsxs)("button",(0,r.Z)((0,i.Z)({disabled:t,className:(0,u.yI)(d.W.menuButton,d.W.menuButtonBg,t?[d.W.menuButtonDisabled,"cursor-default"]:[d.W.menuButtonText,d.W.menuButtonHover,d.W.menuButtonActive],s),ref:n},h),{type:"button",children:[p,(0,l.jsx)("div",{className:(0,u.yI)(d.W.menuButtonIcon,(0,o.Z)({"rotate-180 transform":f},d.W.menuButtonDisabled,t),v),"aria-hidden":"true",children:m||(0,l.jsx)(c.C,{})})]}))}))},14802:function(e,n,t){"use strict";t.d(n,{W:function(){return i}});var o=t(22177),i={menuButton:"flex items-center rounded px-3 py-1.5 text-left cursor-pointer focus:outline-none whitespace-nowrap leading-5",menuButtonBg:o.Cj.fill3,menuButtonText:o.Cj.label2,menuButtonHover:o.Cj.fill2Hover,menuButtonActive:"active:bg-fill-3 dark:active:bg-dark-fill-3",menuButtonIcon:"w-4.5 h-4.5 flex items-center ml-3 pointer-events-none transition duration-300 ".concat(o.Cj.label3),menuButtonDisabled:o.Cj.label4,dropdownTransition:{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95"},menuItems:"max-w-[240px] min-w-[140px] absolute z-dropdown mt-1 rounded-lg p-2 overflow-auto focus:outline-none ".concat(o.eq.commandBar),menuItemsBg:o.Cj.bgOverlay3,menuItem:"cursor-pointer select-none relative h-8 py-1.5 pl-2 pr-12",menuItemText:o.Cj.label1,menuItemActive:"rounded ".concat(o.Cj.fill4),menuItemHover:o.Cj.fill4Hover,menuItemSelectedIconWrapper:"absolute inset-y-0 right-0 flex items-center pr-2 text-blue dark:text-dark-blue",popoverTransition:{enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1"},popoverPanel:"absolute w-max max-w-xs z-dropdown mt-1 p-2.5 rounded-lg focus:outline-none"}},36971:function(e,n,t){"use strict";t.d(n,{L:function(){return h}});var o=t(14924),i=t(26042),r=t(69396),a=t(85893),l=t(67294),s=t(72510),u=t(11355),c=t(51797),d=t(66360),m=t(5797),v=t(22177),f=t(14802),p=t(34663),h=function(e){var n=e.btnText,t=e.btnClassName,h=e.placeholder,x=e.icon,C=e.iconClassName,g=e.items,y=e.itemsClassName,j=e.itemClassName,b=e.itemSelectedClassName,N=e.placeholderClassName,w=void 0===N?v.Cj.label4:N,I=e.selected,k=e.setSelected,S=e.wrapperClassName,Z=e.disabled;return(0,a.jsx)(s.v,{as:"div",className:(0,c.yI)("relative",S),children:function(e){var v=e.open;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.v.Button,{as:p.P,className:(0,c.yI)(t,(0,o.Z)({},w,!n)),isOpen:v,icon:x,iconClassName:C,disabled:Z,children:n||h}),!Z&&(0,a.jsx)(u.u,(0,r.Z)((0,i.Z)({as:l.Fragment},f.W.dropdownTransition),{children:(0,a.jsx)(s.v.Items,{className:(0,c.yI)(f.W.menuItems,f.W.menuItemsBg,y),children:g.map((function(e,n){var t=e.value,i=e.text;return(0,a.jsx)(s.v.Item,{children:function(e){var n,r=e.active;return(0,a.jsxs)("div",{className:(0,c.yI)(f.W.menuItem,f.W.menuItemText,j,(n={},(0,o.Z)(n,f.W.menuItemActive,r),(0,o.Z)(n,null!==b&&void 0!==b?b:"",I===t),n)),onClick:function(){return k(I!==t?t:void 0)},children:[(0,a.jsx)("div",{className:"flex h-5 items-center",children:(0,a.jsx)(m.J,{showArrow:!1,children:i})}),I===t?(0,a.jsx)("span",{className:f.W.menuItemSelectedIconWrapper,children:(0,a.jsx)(d.N,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},n)}))})}))]})}})}},58292:function(e,n,t){"use strict";t.d(n,{J:function(){return s}});var o=t(85893),i=t(12966),r=t(93103),a=t(4999),l=t(75117),s=function(e){var n=e.datetime,t=e.className,s=e.unix,u=void 0!==s&&s,c=e.displayDetail,d=void 0!==c&&c,m=e.needDetailTooltip,v=void 0===m||m,f=e.dateFormat,p=void 0===f?l.Oo?"MMM DD, YYYY":"YYYY.MM.DD":f,h=e.detailFormat,x=void 0===h?l.Oo?"MMM DD, YYYY HH:mm":"YYYY.MM.DD HH:mm":h,C=e.placement,g=void 0===C?"top":C,y=(0,a.B)(),j=u?a.B.unix(Number(n)):(0,a.B)(n),b=(0,r.w)(y,j)?y.to(j):j.local().format(p),N=j.local().format(x),w=d?N:b;return v&&!d?(0,o.jsx)(i.ua7,{placement:g,label:N,hasArrow:!1,children:(0,o.jsx)("span",{className:t,children:w})}):(0,o.jsx)("span",{className:t,children:w})}},39008:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var o=t(29815),i=t(85893),r=t(67294),a=t(51797),l=t(22177),s=t(75247),u=t(16142),c=t(67222),d=t(14924),m=t(26042),v=t(69396),f=t(99534),p={pagination:"flex flex-nowrap items-center space-x-2",itemBase:"flex items-center justify-center px-3 h-8 rounded select-none focus:outline-none",itemDefault:"bg-fill-3 dark:bg-dark-fill-3 text-label-2 dark:text-dark-label-2",itemDisabled:"disabled:opacity-40 disabled:pointer-events-none",itemHover:"hover:bg-fill-2 dark:hover:bg-dark-fill-2",itemActive:"pointer-events-none bg-paper dark:bg-dark-gray-5 text-label-1 dark:text-dark-label-1 ".concat(l.eq.card)},h=function(e){var n,t=e.children,o=e.className,r=e.current,l=e.page,s=e.onClickHandler,u=(0,f.Z)(e,["children","className","current","page","onClickHandler"]);return(0,i.jsx)("button",(0,v.Z)((0,m.Z)({className:(0,a.yI)(p.itemBase,o,(n={},(0,d.Z)(n,p.itemDefault,!r),(0,d.Z)(n,p.itemHover,!r),(0,d.Z)(n,p.itemActive,r),(0,d.Z)(n,p.itemDisabled,u.disabled),n))},u),{onClick:function(){s&&s(l)},children:l||t}))},x=function(e){var n=e.className,t=e.currentPage,d=e.totalItems,m=e.onChange,v=e.pageItemClassName,f=e.chevronClassName,x=e.arrowButtonClassName,C=e.itemsPerPage,g=void 0===C?50:C,y=e.maxPageItems,j=void 0===y?8:y,b=e.disabled,N=void 0!==b&&b,w=Math.ceil(d/g)||0,I=j>w?w:j,k=(0,o.Z)(Array(I)).map((function(e,n){return function(e,n,t,o){var i=(t=t<1?1:t)-2,r=i,a=o-i+1,l=o-t,s=n-Math.ceil((t-4)/2)-2,u=t-1;return 1===t?n:t===1/0||o<=t?e+1:t<5?n+u>o?l+e+1:n+e:0===e?1:e+1===t?o:n<r?e<r?e+1:"gap":n>a?e>1?l+e+1:"gap":1===e||e+1===u?"gap":e+s+1}(n,t,j,w)})),S=t>1,Z=t<w,T=(0,r.useCallback)((function(e){null!=e&&m(e)}),[m]);return(0,r.useEffect)((function(){t>w&&w?T(w):t||T(1)}),[w,T,t]),(0,i.jsxs)("nav",{role:"navigation",className:(0,a.yI)(n,p.pagination),children:[(0,i.jsx)(h,{"aria-label":"prev",disabled:!S||N,onClickHandler:function(){S&&T(t-1)},className:(0,a.yI)(v,x),children:(0,i.jsx)(s.e,{className:(0,a.yI)(l.Cj.label2,f)})},"prev"),k.map((function(e,n){return"gap"===e?(0,i.jsx)(h,{"aria-label":"gap",disabled:!0,className:v,children:(0,i.jsx)(u.q,{className:l.Cj.label2})},n):(0,i.jsx)(h,{current:e===t,page:e,onClickHandler:T,className:v,disabled:N},n)})),(0,i.jsx)(h,{"aria-label":"next",disabled:!Z||N,onClickHandler:function(){Z&&T(t+1)},className:(0,a.yI)(v,x),children:(0,i.jsx)(c.V,{className:(0,a.yI)(l.Cj.label2,f)})},"next")]})}},89328:function(e,n,t){"use strict";t.d(n,{P:function(){return l}});var o=t(85893),i=t(75117),r=["#DFDFDF","#53D780","#42A4FF","#AF52DE","#FFA116"];function a(e){var n=e.level,t=r[n-1];return 6===n?(0,o.jsxs)("svg",{className:"align-top",width:32,height:i.Oo?14:12,viewBox:"0 0 32 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("path",{d:"M3.187.677C3.563.247 4.105 0 4.674 0h7.121c.57 0 1.111.247 1.487.677l2.694 3.085c.666.763.657 1.91-.023 2.662L9.7 13.348a1.97 1.97 0 01-2.929 0L.516 6.424a2.007 2.007 0 01-.022-2.662L3.187.677z",fill:"#fff"}),(0,o.jsx)("path",{d:"M5.005 5.83l2.479 2.817a1 1 0 001.501 0l2.48-2.817a.5.5 0 00-.376-.83H5.38a.5.5 0 00-.375.83z",fill:"url(#prefix__paint0_linear)"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.187.677C3.563.247 4.105 0 4.674 0h20.44C28.918 0 32 3.134 32 7s-3.083 7-6.886 7H7.756l-.068-.077c-.34-.098-.66-.29-.918-.575L.516 6.424A1.997 1.997 0 01.008 5.26L0 5.25l.007-.007c-.043-.523.12-1.06.487-1.481L3.187.677zm1.714 1.319a.5.5 0 00-.376.171L2.273 4.746a.5.5 0 00.005.664l5.586 6.183a.5.5 0 00.742 0L14.19 5.41a.5.5 0 00.006-.664l-2.252-2.579a.5.5 0 00-.377-.171H4.901z",fill:"url(#prefix__paint1_linear)"}),(0,o.jsxs)("defs",{children:[(0,o.jsxs)("linearGradient",{id:"prefix__paint0_linear",x1:16,y1:0,x2:16,y2:14,gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#606069"}),(0,o.jsx)("stop",{offset:1})]}),(0,o.jsxs)("linearGradient",{id:"prefix__paint1_linear",x1:16,y1:0,x2:16,y2:14,gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#606069"}),(0,o.jsx)("stop",{offset:1})]})]})]}):(0,o.jsxs)("svg",{className:"align-top",width:32,height:i.Oo?14:12,viewBox:"0 0 32 14",fill:t,xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("path",{d:"M3.187.677C3.563.247 4.105 0 4.674 0h7.121c.57 0 1.111.247 1.487.677l2.694 3.085c.666.763.657 1.91-.023 2.662L9.7 13.348a1.97 1.97 0 01-2.929 0L.516 6.424a2.007 2.007 0 01-.022-2.662L3.187.677z",fill:"#fff"}),(0,o.jsx)("path",{d:"M5.005 5.83l2.479 2.817a1 1 0 001.501 0l2.48-2.817a.5.5 0 00-.376-.83H5.38a.5.5 0 00-.375.83z"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.187.677C3.563.247 4.105 0 4.674 0h20.44C28.918 0 32 3.134 32 7s-3.083 7-6.886 7H7.756l-.068-.077c-.34-.098-.66-.29-.918-.575L.516 6.424A1.997 1.997 0 01.008 5.26L0 5.25l.007-.007c-.043-.523.12-1.06.487-1.481L3.187.677zm1.714 1.319a.5.5 0 00-.376.171L2.273 4.746a.5.5 0 00.005.664l5.586 6.183a.5.5 0 00.742 0L14.19 5.41a.5.5 0 00.006-.664l-2.252-2.579a.5.5 0 00-.377-.171H4.901z"})]})}var l=function(e){var n=e.level;return(0,o.jsxs)("span",{className:"relative inline-block h-3 select-none leading-3",children:[n?(0,o.jsx)(a,{level:n}):(0,o.jsx)("div",{children:"\u6682\u65e0"}),!!n&&(0,o.jsx)("span",{className:"absolute right-[4px] top-[1px] scale-[calc(11/12)] font-typo text-[12px] text-white",children:"L".concat(n)})]})}},48713:function(e,n,t){"use strict";t.d(n,{g:function(){return d}});var o=t(26042),i=t(69396),r=t(99534),a=t(10253),l=t(85893),s=t(67294),u=t(51797),c=t(22177),d=s.forwardRef((function(e,n){var t=e.value,d=void 0===t?"":t,m=e.autoSize,v=void 0!==m&&m,f=e.onChange,p=e.className,h=e.maxLength,x=e.showRecord,C=e.rows,g=(0,r.Z)(e,["value","autoSize","onChange","className","maxLength","showRecord","rows"]),y=(0,s.useCallback)((function(e){null===f||void 0===f||f(e.target.value)}),[f]),j=(0,s.useRef)(null),b=(0,s.useCallback)((function(e){j.current=e,"function"===typeof n?n(e):(null===n||void 0===n?void 0:n.current)&&(n.current=e)}),[]),N=(0,s.useState)(1),w=N[0],I=N[1],k=(0,s.useRef)(null);return(0,s.useEffect)((function(){if(v){var e=k.current;if(e){var n=new ResizeObserver((function(e){var n=(0,a.Z)(e,1)[0];I(n.target.scrollHeight/20|0)}));return n.observe(e),function(){n.disconnect()}}}}),[v]),(0,s.useEffect)((function(){var e=k.current;e&&v&&I(e.scrollHeight/20|0)}),[d,v]),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"h-0 overflow-hidden",children:(0,l.jsx)("textarea",{ref:k,className:"w-full resize-none overflow-hidden px-2 leading-5 outline-none",rows:1,value:d,disabled:!0})}),(0,l.jsx)("textarea",(0,i.Z)((0,o.Z)({},g),{ref:b,maxLength:h,value:d,onChange:y,rows:v?w:C,className:(0,u.yI)({"overflow-hidden":v},"w-full rounded-lg px-2 py-2.5 leading-5","border border-transparent outline-none transition-[border-color] focus:border-green-s",p)})),h&&h>0&&x&&(0,l.jsxs)("div",{className:(0,u.yI)("absolute right-2 bottom-2 text-xs",c.Cj.label3),children:[d.length," / ",h]})]})}))},52653:function(e,n,t){"use strict";var o,i,r;t.d(n,{ZL:function(){return r},f:function(){return o},i6:function(){return i}}),function(e){e.Best="best",e.Hot="hot",e.MostRelevant="most_relevant",e.MostVotes="most_votes",e.NewestToOldest="newest_to_oldest",e.OldestToNewest="oldest_to_newest"}(o||(o={})),function(e){e.Up="up",e.Down="down",e.None="none"}(i||(i={})),function(e){e.Abuse="ABUSE",e.Advertising="ADVERTISING",e.All="ALL",e.Fake="FAKE",e.Illegal="ILLEGAL",e.NonEnglish="NON_ENGLISH",e.Other="OTHER",e.Politics="POLITICS",e.Sexual="SEXUAL",e.Terrorism="TERRORISM",e.Violent="VIOLENT"}(r||(r={}))},38488:function(e,n,t){"use strict";t.d(n,{E:function(){return d}});var o=t(10253),i=t(94207),r=t(29732),a=t(82010),l=t(56235),s=t(23874),u=t(75117),c=function(e){return e.toLowerCase()},d=function(e){var n=(0,i.Z)((0,r.Z)(e)).map(c),t=(0,a.F)().theme;return(0,s.VaZ)(l.f6,{slugs:(0,i.Z)(e)},{enabled:n.length>0&&u.ob,select:function(e){var i=e.reputationUserReputations,a=e.userProfileUserColors,l=e.userProfileUserPendants,u=i.reduce((function(e,n){n&&(e[n.user.userSlug.toLowerCase()]={level:n.level,reputation:n.reputation});return e}),{}),c=a.reduce((function(e,t,o){var i=n[o];return t&&i&&(e[i]=(0,r.Z)(t)),e}),{}),d=l.reduce((function(e,t,o){var i=n[o];if(t&&i){var r=t.category===s.mdI.DailyQuestionMedal?"".concat(t.month," \u6708\u6253\u5361\u52cb\u7ae0"):t.name;e[i]={name:r,icon:t.config.iconWearing||""}}return e}),{});return n.reduce((function(e,n){var i,r,a,l=n.toLowerCase(),s=d[l],m=(0,o.Z)(null!==(r=c[l])&&void 0!==r?r:["",""],2),v=m[0],f=m[1],p="dark"===t?f:v;return e[l]={nameColor:p,activeBadgeIcon:(null===s||void 0===s?void 0:s.icon)||"",activeBadgeName:(null===s||void 0===s?void 0:s.name)||"",reputation:null!==(a=null===(i=u[l])||void 0===i?void 0:i.level)&&void 0!==a?a:0},e}),{})}})}},6919:function(e,n,t){"use strict";var o,i,r,a;t.d(n,{$4:function(){return i},av:function(){return o},i7:function(){return r},rr:function(){return a}}),function(e){e.Hot="hot",e.MostPosts="most_posts",e.MostRelevant="most_relevant",e.MostVotes="most_votes",e.NewestToOldest="newest_to_oldest",e.OldestToNewest="oldest_to_newest",e.RecentActivity="recent_activity"}(o||(o={})),function(e){e.All="All",e.Deleted="Deleted",e.Hidden="Hidden",e.NeedUpdate="NeedUpdate",e.Open="Open",e.Pending="Pending",e.Reviewed="Reviewed",e.Muted="Muted",e.Draft="Draft"}(i||(i={})),function(e){e[e.Upvote=1]="Upvote",e[e.None=0]="None",e[e.Downvote=-1]="Downvote"}(r||(r={})),function(e){e.Body="BODY",e.Comment="COMMENT",e.Reply="REPLY",e.Title="TITLE"}(a||(a={}))},71290:function(e,n,t){"use strict";t.d(n,{z:function(){return r}});var o=t(23874),i=t(56235),r=t(75117).Oo?function(){return{}}:function(e){return(0,o.Gj3)(i.f6,{titleSlug:e},{enabled:!!e,select:function(e){if(!e.question)return null;var n=e.question;return{translatedTitle:n.translatedTitle||"",translatedContent:n.translatedContent||""}}})}},88088:function(e,n,t){"use strict";t.d(n,{E:function(){return a}});var o=t(26042),i=t(69396),r=t(85893),a=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,r.jsx)("path",{d:"M10 3.333V6h3.716c.872 0 1.326 1.038.735 1.678l-5.716 6.193a1 1 0 01-1.47 0L1.55 7.678C.96 7.038 1.412 6 2.284 6H6V3.333C6 2.597 6.597 2 7.334 2h1.333C9.403 2 10 2.597 10 3.333z"})}))}))},38535:function(e,n,t){"use strict";t.d(n,{v:function(){return a}});var o=t(26042),i=t(69396),r=t(85893),a=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M8.667 7.333v-4H7.334v4H3.046L8 12.701l4.955-5.368H8.667zm-.912 5.633zM6 3.333C6 2.597 6.597 2 7.334 2h1.333C9.403 2 10 2.597 10 3.333V6h3.716c.872 0 1.326 1.038.735 1.678l-5.716 6.193a1 1 0 01-1.47 0L1.55 7.678C.96 7.038 1.412 6 2.284 6H6V3.333z",clipRule:"evenodd"})}))}))},36258:function(e,n,t){"use strict";t.d(n,{h:function(){return a}});var o=t(26042),i=t(69396),r=t(85893),a=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.293 9.293a1 1 0 111.414 1.414l-5 5a1 1 0 01-1.414 0l-5-5a1 1 0 011.414-1.414L12 13.586l4.293-4.293z",clipRule:"evenodd"})}))}))},19913:function(e,n,t){"use strict";t.d(n,{S:function(){return a}});var o=t(26042),i=t(69396),r=t(85893),a=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.293 14.707a1 1 0 001.414-1.414l-5-5a1 1 0 00-1.414 0l-5 5a1 1 0 101.414 1.414L12 10.414l4.293 4.293z",clipRule:"evenodd"})}))}))},72230:function(e,n,t){"use strict";t.d(n,{V:function(){return a}});var o=t(26042),i=t(69396),r=t(85893),a=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,r.jsx)("path",{d:"M8.735 2.13a1 1 0 00-1.47 0L1.55 8.321C.96 8.962 1.412 10 2.284 10H6v2.667C6 13.403 6.597 14 7.334 14h1.333C9.403 14 10 13.403 10 12.667V10h3.716c.872 0 1.326-1.038.735-1.678L8.735 2.129z"})}))}))},81117:function(e,n,t){"use strict";t.d(n,{P:function(){return a}});var o=t(26042),i=t(69396),r=t(85893),a=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M11 20a1 1 0 011-1h8a1 1 0 110 2h-8a1 1 0 01-1-1zM17.018 5c-.26 0-.51.104-.695.288L4.837 16.773l-.463 1.853 1.853-.463L17.712 6.677A.981.981 0 0017.018 5zm-2.11-1.126a2.983 2.983 0 014.219 4.217L7.444 19.773a1 1 0 01-.464.263l-3.738.934a1 1 0 01-1.213-1.212l.934-3.739a1 1 0 01.263-.464L14.91 3.874z",clipRule:"evenodd"})}))}))},62611:function(e,n,t){"use strict";t.d(n,{Q:function(){return a}});var o=t(26042),i=t(69396),r=t(85893),a=t(67294).forwardRef((function(e,n){return(0,r.jsxs)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:[(0,r.jsx)("path",{fillRule:"evenodd",d:"M11.5 5.5a7 7 0 107 7 1 1 0 112 0 9 9 0 11-9-9 1 1 0 110 2z",clipRule:"evenodd"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M20.207 3.793a1 1 0 010 1.414l-7 7a1 1 0 01-1.414-1.414l7-7a1 1 0 011.414 0z",clipRule:"evenodd"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M14.5 4.5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 11-2 0v-3h-3a1 1 0 01-1-1z",clipRule:"evenodd"})]}))}))},7570:function(e,n,t){"use strict";t.d(n,{j:function(){return a}});var o=t(26042),i=t(69396),r=t(85893),a=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.96 14.893l-3.297 7.418a1 1 0 01-.914.594 3.67 3.67 0 01-3.67-3.67v-2.562H5.05a2.78 2.78 0 01-2.78-3.199l1.228-8.01A2.778 2.778 0 016.268 3.1H18.98a2.78 2.78 0 012.78 2.78v6.233a2.78 2.78 0 01-2.78 2.78H16.96zm2.02-2a.78.78 0 00.781-.78V5.88a.78.78 0 00-.78-.78H17.31v7.792h1.67z",clipRule:"evenodd"})}))}))},61347:function(e,n,t){"use strict";t.d(n,{y:function(){return a}});var o=t(26042),i=t(69396),r=t(85893),a=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M13.663 22.309a1 1 0 01-.914.594 3.67 3.67 0 01-3.67-3.671V16.67H5.05a2.78 2.78 0 01-2.78-3.2l1.228-8.01a2.778 2.778 0 012.769-2.364H18.98a2.78 2.78 0 012.78 2.781v6.232a2.78 2.78 0 01-2.78 2.78H16.96l-3.297 7.419zm5.318-9.419a.78.78 0 00.78-.78V5.878a.78.78 0 00-.78-.78H17.31v7.792h1.67zM6.257 5.097a.781.781 0 00-.781.666l-1.229 8.01a.78.78 0 00.792.898h5.04a1 1 0 011 1v3.56c0 .712.443 1.32 1.07 1.56l3.16-7.113v-8.58H6.258z",clipRule:"evenodd"})}))}))},39643:function(e,n,t){"use strict";t.d(n,{C:function(){return a}});var o=t(26042),i=t(69396),r=t(85893),a=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M7.04 9.11l3.297-7.419a1 1 0 01.914-.594 3.67 3.67 0 013.67 3.671V7.33h4.028a2.78 2.78 0 012.78 3.2l-1.228 8.01a2.778 2.778 0 01-2.769 2.363H5.019a2.78 2.78 0 01-2.78-2.78V11.89a2.78 2.78 0 012.78-2.78H7.04zm-2.02 2a.78.78 0 00-.781.78v6.232c0 .431.35.78.78.78H6.69V11.11H5.02z",clipRule:"evenodd"})}))}))},7367:function(e,n,t){"use strict";t.d(n,{j:function(){return a}});var o=t(26042),i=t(69396),r=t(85893),a=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M20 5h-4V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v1H4a1 1 0 000 2h1v12a3 3 0 003 3h8a3 3 0 003-3V7h1a1 1 0 100-2zm-6-1v1h-4V4h4zm-5 6a1 1 0 012 0v7a1 1 0 11-2 0v-7zm4 0a1 1 0 112 0v7a1 1 0 11-2 0v-7zM7 7h10v12a1 1 0 01-1 1H8a1 1 0 01-1-1V7z",clipRule:"evenodd"})}))}))},80947:function(e,n,t){"use strict";t.d(n,{X:function(){return a}});var o=t(26042),i=t(69396),r=t(85893),a=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M7.333 8.667v4h1.334v-4h4.288L8 3.299 3.045 8.667h4.288zm-1.333 4C6 13.403 6.597 14 7.333 14h1.334C9.403 14 10 13.403 10 12.667V10h3.716c.872 0 1.326-1.038.735-1.678L8.735 2.129a1 1 0 00-1.47 0L1.55 8.322C.958 8.962 1.412 10 2.284 10H6v2.667z",clipRule:"evenodd"})}))}))},7822:function(e,n,t){"use strict";t.d(n,{Q:function(){return a}});var o=t(26042),i=t(69396),r=t(85893),a=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zM10.944 9.835a1.25 1.25 0 012.429.417c0 .253-.226.555-.68.857a4.039 4.039 0 01-.886.446 1 1 0 10.632 1.897c.358-.12.855-.34 1.364-.679.952-.635 1.57-1.458 1.57-2.52a3.25 3.25 0 00-6.316-1.081 1 1 0 001.887.663zM11.186 16v.135a1 1 0 102 0V16a1 1 0 10-2 0z",clipRule:"evenodd"})}))}))},67962:function(e,n,t){"use strict";t.d(n,{J:function(){return a}});var o=t(26042),i=t(69396),r=t(85893),a=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M13 7a1 1 0 011-1h2a6 6 0 010 12h-2a1 1 0 110-2h2a4 4 0 000-8h-2a1 1 0 01-1-1zm-3 10a1 1 0 01-1 1H8A6 6 0 018 6h1a1 1 0 010 2H8a4 4 0 100 8h1a1 1 0 011 1zm-1-6h6a1 1 0 110 2H9a1 1 0 110-2z",clipRule:"evenodd"})}))}))},46283:function(e,n,t){"use strict";t.d(n,{j:function(){return a}});var o=t(26042),i=t(69396),r=t(85893),a=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M19 11.063V7h-2v1a1 1 0 11-2 0V7H9v1a1 1 0 01-2 0V7H5v4.063h14zm0 2H5V19h14v-5.938zM9 5h6V4a1 1 0 112 0v1h2a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2V4a1 1 0 012 0v1z",clipRule:"evenodd"})}))}))},25132:function(e,n,t){"use strict";t.d(n,{H:function(){return a}});var o=t(26042),i=t(69396),r=t(85893),a=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M14.707 2.707a1 1 0 00-1.414-1.414l-2 2a1 1 0 00-.15 1.221l1.5 2.5a1 1 0 001.714-1.029l-.454-.757a8 8 0 11-6.347 1.119 1 1 0 00-1.112-1.662A9.991 9.991 0 002 13c0 5.523 4.477 10 10 10s10-4.477 10-10c0-4.775-3.347-8.769-7.823-9.762l.53-.53zM13 10a1 1 0 10-2 0v4a1 1 0 00.445.832l3 2a1 1 0 001.11-1.664L13 13.465V10z",clipRule:"evenodd"})}))}))},55964:function(e,n,t){"use strict";t.d(n,{DI:function(){return a},LE:function(){return l},Ts:function(){return i},jY:function(){return r}});var o=t(34155),i="",r=(o.env.UGC_OSS_REGION,"https://leetcode-cn.com"),a="https://pay.lingkou.com",l="wxadf3350b709be02e"},88150:function(e,n,t){var o=t(55544),i="string"===typeof o?[[e.id,o,""]]:o;(n=e.exports=o.locals||{})._getContent=function(){return i},n._getCss=function(){return""+o}}}]);